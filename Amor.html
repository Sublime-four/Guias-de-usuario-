<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>¬øQuieres ser mi San Valent√≠n? üíò</title>
  <meta name="theme-color" content="#ffd6e7" />
  <style>
    :root{
      --bg1:#fff1f6;
      --bg2:#ffe4f0;
      --card:#ffffffcc;
      --stroke:#f5b4cc;
      --pink:#ff6fa8;
      --pink2:#ff9fc5;
      --pink3:#ffd1e3;
      --text:#4a2b3a;
      --muted:#7a4b5f;
      --shadow: 0 20px 60px rgba(255, 111, 168, .25);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      overflow:hidden;
      background:
        radial-gradient(1200px 600px at 20% 20%, #ffffff 0%, transparent 60%),
        radial-gradient(900px 500px at 80% 30%, #ffffff 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
    }

    /* Fondo con brillos */
    .sparkle{
      position:absolute;
      inset:-20%;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,255,255,.85) 0 2px, transparent 3px),
        radial-gradient(circle at 70% 40%, rgba(255,255,255,.75) 0 2px, transparent 3px),
        radial-gradient(circle at 30% 80%, rgba(255,255,255,.65) 0 2px, transparent 3px),
        radial-gradient(circle at 85% 75%, rgba(255,255,255,.7) 0 2px, transparent 3px);
      filter: blur(.2px);
      opacity:.6;
      animation: drift 14s linear infinite;
      pointer-events:none;
    }
    @keyframes drift{
      from{transform:translate3d(-2%, -1%, 0) rotate(0deg)}
      to{transform:translate3d(2%, 1%, 0) rotate(6deg)}
    }

    .wrap{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
      padding:24px;
    }

    .card{
      width:min(860px, 92vw);
      background:var(--card);
      border:1px solid rgba(245, 180, 204, .8);
      border-radius:28px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
      position:relative;
    }

    .topbar{
      display:flex;
      align-items:center;
      gap:10px;
      padding:16px 18px;
      border-bottom:1px solid rgba(245, 180, 204, .65);
      background: linear-gradient(90deg, rgba(255, 209, 227, .55), rgba(255, 255, 255, .25));
    }

    .dots{display:flex; gap:8px; margin-right:6px}
    .dot{width:10px;height:10px;border-radius:999px}
    .dot:nth-child(1){background:#ff7aa8}
    .dot:nth-child(2){background:#ffd06a}
    .dot:nth-child(3){background:#7be4c7}

    .brand{
      font-weight:800;
      letter-spacing:.4px;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:10px;
      user-select:none;
    }
    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px dashed rgba(245, 180, 204, .9);
      background: rgba(255, 240, 246, .65);
    }

    .content{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:18px;
      padding:22px;
    }
    @media (max-width: 820px){
      .content{grid-template-columns: 1fr; padding:18px}
    }

    /* Carta */
    .letter{
      border-radius:24px;
      background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(255, 234, 244, .6));
      border:1px solid rgba(245, 180, 204, .8);
      padding:22px 22px 18px;
      position:relative;
      overflow:hidden;
      min-height:320px;
    }
    .letter::before{
      content:"";
      position:absolute;
      inset:-80px;
      background:
        radial-gradient(circle at 20% 25%, rgba(255, 111, 168, .22), transparent 55%),
        radial-gradient(circle at 80% 45%, rgba(255, 159, 197, .20), transparent 55%),
        radial-gradient(circle at 45% 85%, rgba(255, 209, 227, .35), transparent 60%);
      transform: rotate(10deg);
    }

    .letterInner{
      position:relative;
      z-index:1;
    }

    h1{
      margin:0 0 8px;
      font-size: clamp(26px, 3.2vw, 40px);
      line-height:1.05;
      letter-spacing:-.6px;
    }
    .subtitle{
      margin:0 0 14px;
      color:var(--muted);
      font-weight:600;
    }

    .msg{
      margin:14px 0 0;
      color:var(--text);
      font-size: clamp(15px, 1.4vw, 17px);
      line-height:1.65;
    }
    .msg strong{color:#b33a66}

    .signature{
      margin-top:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      color:var(--muted);
      font-weight:700;
      flex-wrap:wrap;
    }

    .dateBadge{
      font-size:12px;
      padding:8px 12px;
      border-radius:999px;
      background: rgba(255, 209, 227, .55);
      border:1px solid rgba(245, 180, 204, .9);
    }

    /* Panel derecho */
    .side{
      border-radius:24px;
      border:1px solid rgba(245, 180, 204, .8);
      background: rgba(255,255,255,.75);
      padding:18px;
      position:relative;
      overflow:hidden;
      min-height:320px;
    }
    .side::after{
      content:"";
      position:absolute;
      inset:-60px;
      background:
        radial-gradient(circle at 70% 20%, rgba(255, 111, 168, .18), transparent 55%),
        radial-gradient(circle at 30% 70%, rgba(255, 159, 197, .16), transparent 55%);
      transform: rotate(-8deg);
      pointer-events:none;
    }

    .sideInner{position:relative; z-index:1}

    .bigHeart{
      width:120px;
      height:120px;
      margin:8px auto 10px;
      position:relative;
      transform: translateZ(0);
      filter: drop-shadow(0 14px 18px rgba(255,111,168,.25));
      animation: pulse 1.6s ease-in-out infinite;
    }
    .bigHeart:before, .bigHeart:after{
      content:"";
      position:absolute;
      width:64px; height:100px;
      background: linear-gradient(180deg, #ff6fa8, #ff9fc5);
      border-radius: 40px 40px 0 0;
      left:44px; top:20px;
      transform: rotate(-45deg);
      transform-origin: 0 100%;
    }
    .bigHeart:after{
      left:12px;
      transform: rotate(45deg);
      transform-origin: 100% 100%;
    }
    @keyframes pulse{
      0%,100%{transform:scale(1)}
      50%{transform:scale(1.05)}
    }

    .prompt{
      text-align:center;
      margin:0 0 14px;
      color:var(--muted);
      font-weight:700;
    }

    .ctaArea{
      position:relative;
      height:160px;
      border-radius:18px;
      background: rgba(255, 240, 246, .65);
      border:1px dashed rgba(245, 180, 204, .95);
      padding:14px;
      overflow:hidden;
    }

    .btn{
      border:0;
      padding:14px 18px;
      border-radius:14px;
      font-weight:900;
      letter-spacing:.3px;
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      box-shadow: 0 14px 30px rgba(255, 111, 168, .22);
      touch-action: manipulation;
    }
    .btn:active{transform:translateY(1px) scale(.99)}

    .btnYes{
      background: linear-gradient(180deg, #ff6fa8, #ff9fc5);
      color:white;
      width:180px;
    }
    .btnYes:hover{filter:brightness(1.02); transform: translateY(-1px)}

    .btnNo{
      background: linear-gradient(180deg, #ffd1e3, #ffe8f2);
      color:#8a3554;
      position:absolute;
      left:58%;
      top:58%;
      width:140px;
      box-shadow: 0 10px 22px rgba(138, 53, 84, .12);
    }

    .hint{
      text-align:center;
      font-size:12px;
      color:var(--muted);
      margin-top:10px;
      opacity:.9;
    }

    /* Modal final */
    .modal{
      position:fixed;
      inset:0;
      display:grid;
      place-items:center;
      background: rgba(255, 214, 231, .35);
      backdrop-filter: blur(10px);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease;
      padding:24px;
    }
    .modal.show{
      opacity:1;
      pointer-events:auto;
    }
    .modalCard{
      width:min(720px, 92vw);
      border-radius:28px;
      border:1px solid rgba(245, 180, 204, .9);
      background: rgba(255,255,255,.88);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .modalHead{
      padding:18px 18px 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .close{
      border:0;
      background: rgba(255, 240, 246, .9);
      border:1px solid rgba(245, 180, 204, .9);
      width:40px;height:40px;border-radius:12px;
      cursor:pointer;
      font-weight:900;
      color:#8a3554;
    }
    .modalBody{
      padding:8px 18px 18px;
    }
    .modalTitle{
      margin:6px 0 6px;
      font-size: clamp(22px, 3vw, 34px);
      letter-spacing:-.4px;
    }
    .modalText{
      margin:0;
      color:var(--text);
      line-height:1.65;
    }
    .miniRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
      align-items:center;
    }
    .miniTag{
      font-size:12px;
      padding:8px 10px;
      border-radius:999px;
      background: rgba(255, 209, 227, .55);
      border:1px solid rgba(245, 180, 204, .9);
      color:var(--muted);
      font-weight:800;
    }

    /* Corazones flotantes */
    .hearts{
      position:absolute;
      inset:0;
      overflow:hidden;
      pointer-events:none;
      z-index:0;
    }
    .heartFloat{
      position:absolute;
      bottom:-40px;
      width:18px;height:18px;
      transform: rotate(45deg);
      opacity:.75;
      animation: rise linear infinite;
      filter: drop-shadow(0 10px 12px rgba(255,111,168,.18));
    }
    .heartFloat::before, .heartFloat::after{
      content:"";
      position:absolute;
      width:18px;height:18px;
      background: currentColor;
      border-radius:50%;
    }
    .heartFloat::before{left:-9px}
    .heartFloat::after{top:-9px}
    @keyframes rise{
      from{transform: translateY(0) rotate(45deg) scale(.9); opacity:0}
      15%{opacity:.85}
      to{transform: translateY(-120vh) rotate(45deg) scale(1.2); opacity:0}
    }

    /* Confetti canvas */
    canvas{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:50;
    }

    /* Accesibilidad */
    .srOnly{
      position:absolute;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;
      border:0;
    }
  </style>
</head>

<body>
  <div class="sparkle"></div>
  <div class="hearts" id="hearts"></div>
  <canvas id="confetti"></canvas>

  <main class="wrap" aria-label="Pregunta de San Valent√≠n">
    <section class="card" role="region" aria-label="Tarjeta principal">
      <div class="topbar">
        <div class="dots" aria-hidden="true">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>
        <div class="brand">
          <span> üíñ San Valent√≠n</span>
          <span class="pill">Para mi Frijolito</span>
        </div>
      </div>

      <div class="content">
        <!-- Carta -->
        <div class="letter">
          <div class="letterInner">
            <h1>Hola, mi amor üíò</h1>
            <p class="subtitle">Tengo una propuesta seria‚Ä¶ (pero con mucho romance, obvio).</p>

            <p class="msg">
              Desde que llegaste a mi vida, todo tiene <strong>m√°s sentido</strong>:
              las risas duran m√°s, los d√≠as pesan menos y hasta el caf√© sabe mejor (casi tanto como t√∫).
            </p>

            <p class="msg">
              As√≠ que voy directo al punto, sin reuniones que pudieron ser un mensaje:
              este <strong>14 de febrero</strong> quiero celebrarte bonito,
              con plan, detalles y mucho ‚Äúnosotros‚Äù.
            </p>

            <p class="msg">
              ¬øMe das el honor de ser mi <strong>San Valent√≠n</strong>?
            </p>

            <div class="signature">
              <span>Con amor, <span id="firma">tu persona favorita</span> ‚ú®</span>
              <span class="dateBadge">üìÖ 14 de febrero</span>
            </div>
          </div>
        </div>

        <!-- Lado interactivo -->
        <aside class="side">
          <div class="sideInner">
            <div class="bigHeart" aria-hidden="true"></div>
            <p class="prompt">Decisi√≥n estrat√©gica (pero emocional):</p>

            <div class="ctaArea" id="arena" aria-label="√Årea de botones">
              <button class="btn btnYes" id="yesBtn">
                S√≠, obvio üíó
              </button>

              <button class="btn btnNo" id="noBtn" aria-label="No (bloqueado)">
                No üòÖ
              </button>
            </div>

            <p class="hint">
              Tip: Si eliges el ‚ÄúNo‚Äù duermes en sofa sin mi.
            </p>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modalCard">
      <div class="modalHead">
        <div>
          <div class="miniRow">
            <span class="miniTag">‚úÖ Selecci√≥n registrada</span>
            <span class="miniTag">üíû Estado: enamorados</span>
            <span class="miniTag">üìå Fecha: 14/02</span>
          </div>
          <h2 class="modalTitle" id="modalTitle">¬°S√ç√ç√ç! üíñ</h2>
        </div>
        <button class="close" id="closeBtn" aria-label="Cerrar">‚úï</button>
      </div>
      <div class="modalBody">
        <p class="modalText">
          Acabas de hacer mi d√≠a, mi semana y probablemente mi a√±o.  
          Prometo un 14 de febrero con detalles, risas y un mont√≥n de ‚Äúvenidad dentro‚Äù.
        </p>

        <p class="modalText" style="margin-top:10px;">
          Ahora s√≠: oficialmente <strong>mi San Valent√≠n</strong> ‚ú®
        </p>

        <div class="miniRow" style="margin-top:16px;">
          <span class="miniTag">üìç Plan: t√∫ + yo</span>
          <span class="miniTag">üçì Mood: rom√°ntico</span>
          <span class="miniTag">üé∂ Bonus: playlist</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ===== Personalizaci√≥n r√°pida (cambia aqu√≠ si quieres) =====
    const NOMBRE_FIRMA = "‚Äî (Yohan Diaz )"; // pon tu nombre
    document.getElementById("firma").textContent = NOMBRE_FIRMA;

    // ===== Corazones flotantes =====
    const hearts = document.getElementById("hearts");
    const heartColors = ["#ff6fa8", "#ff9fc5", "#ffd1e3", "#ff8bb9"];
    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "heartFloat";
      const size = 10 + Math.random()*18;
      h.style.width = size + "px";
      h.style.height = size + "px";
      h.style.left = (Math.random()*100) + "vw";
      h.style.color = heartColors[Math.floor(Math.random()*heartColors.length)];
      const dur = 6 + Math.random()*8;
      h.style.animationDuration = dur + "s";
      h.style.animationDelay = (Math.random()*1.5) + "s";
      hearts.appendChild(h);
      setTimeout(()=>h.remove(), (dur+2)*1000);
    }
    for(let i=0;i<18;i++) spawnHeart();
    setInterval(spawnHeart, 650);

    // ===== Bot√≥n "No" que huye =====
    const arena = document.getElementById("arena");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function moveNoButton(){
      const a = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      // l√≠mites dentro del √°rea
      const padding = 10;
      const maxX = a.width - b.width - padding;
      const maxY = a.height - b.height - padding;

      // nueva posici√≥n random
      const x = clamp(Math.random()*maxX, padding, maxX);
      const y = clamp(Math.random()*maxY, padding, maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";

      // mini sacudida simp√°tica
      noBtn.animate(
        [{transform:"translateY(0)"},{transform:"translateY(-2px)"},{transform:"translateY(0)"}],
        {duration:180, easing:"ease-out"}
      );
    }

    // Si se acerca el mouse al "No", huye
    noBtn.addEventListener("pointerenter", moveNoButton);
    noBtn.addEventListener("pointermove", (e)=>{
      // Si el puntero est√° cerca del centro, huye m√°s
      const r = noBtn.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      const dx = e.clientX - cx;
      const dy = e.clientY - cy;
      const dist = Math.hypot(dx,dy);
      if(dist < 40) moveNoButton();
    });

    // En m√≥vil: al tocar "No", tambi√©n huye
    noBtn.addEventListener("pointerdown", (e)=>{
      e.preventDefault();
      moveNoButton();
    });

    // Extra: si intentan click al "No", igual no hace nada
    noBtn.addEventListener("click", (e)=>{
      e.preventDefault();
      moveNoButton();
    });

    // ===== Modal + Confetti al decir S√≠ =====
    const modal = document.getElementById("modal");
    const closeBtn = document.getElementById("closeBtn");

    yesBtn.addEventListener("click", ()=>{
      modal.classList.add("show");
      fireConfetti();
    });

    closeBtn.addEventListener("click", ()=> modal.classList.remove("show"));
    modal.addEventListener("click", (e)=>{
      if(e.target === modal) modal.classList.remove("show");
    });

    // Confetti simple en canvas
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let W, H;
    function resize(){
      W = canvas.width = window.innerWidth * devicePixelRatio;
      H = canvas.height = window.innerHeight * devicePixelRatio;
    }
    window.addEventListener("resize", resize);
    resize();

    let pieces = [];
    function makePiece(){
      return {
        x: Math.random()*W,
        y: -20*devicePixelRatio,
        r: (3 + Math.random()*6) * devicePixelRatio,
        vx: (-1.2 + Math.random()*2.4) * devicePixelRatio,
        vy: (2.2 + Math.random()*4.2) * devicePixelRatio,
        rot: Math.random()*Math.PI,
        vr: (-0.2 + Math.random()*0.4),
        life: 0,
        max: 140 + Math.random()*80,
        c: heartColors[Math.floor(Math.random()*heartColors.length)]
      }
    }

    function fireConfetti(){
      pieces = Array.from({length: 220}, makePiece);
      let frame = 0;

      function tick(){
        frame++;
        ctx.clearRect(0,0,W,H);

        pieces.forEach(p=>{
          p.life++;
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.02 * devicePixelRatio; // gravedad suave
          p.rot += p.vr;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.c;
          ctx.globalAlpha = Math.max(0, 1 - p.life/p.max);

          // dibujar mini "confetti" como rect
          ctx.fillRect(-p.r/2, -p.r/2, p.r*1.6, p.r*0.9);
          ctx.restore();
        });

        pieces = pieces.filter(p => p.life < p.max && p.y < H + 60*devicePixelRatio);

        if(frame < 240 && pieces.length){
          requestAnimationFrame(tick);
        } else {
          ctx.clearRect(0,0,W,H);
        }
      }
      tick();
    }

    // Posici√≥n inicial del No (para que se vea lindo)
    // y primer "escape" ligero para mostrar el efecto.
    setTimeout(()=> moveNoButton(), 200);
  </script>
</body>
</html>
