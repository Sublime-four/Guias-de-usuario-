<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Funcional - Conteo de Inventario | COONDEV</title>
    <style>
        :root {
            --primary: #7B5B7B;
            --primary-dark: #5E3F5E;
            --primary-light: #9B7B9B;
            --secondary: #4A2D4A;
            --accent: #C9A0C9;
            --dark: #2E1A2E;
            --gray-100: #f8f7f9;
            --gray-200: #eae7ec;
            --gray-300: #ddd8df;
            --gray-400: #c4bdc7;
            --gray-500: #9e95a1;
            --gray-600: #6c636f;
            --gray-700: #4a434d;
            --gray-800: #342e37;
            --white: #ffffff;
            --success: #5a9e6f;
            --warning: #c9a84c;
            --danger: #b5545a;
            --info: #6b8fa8;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.7; color: var(--gray-800); background: var(--gray-100); }

        .header { background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 50%, var(--primary-light) 100%); color: var(--white); position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 20px rgba(75,45,75,0.25); }
        .header-top { display: flex; align-items: center; justify-content: space-between; padding: 15px 40px; max-width: 1400px; margin: 0 auto; }
        .logo-area { display: flex; align-items: center; gap: 20px; }
        .logo-area svg { height: 48px; width: auto; }
        .header-badge { background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.3); padding: 6px 16px; border-radius: 20px; font-size: 12px; letter-spacing: 1px; }

        .hero { background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 40%, var(--primary-light) 100%); color: var(--white); padding: 60px 40px; text-align: center; position: relative; overflow: hidden; }
        .hero::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.06) 0%, transparent 60%); animation: pulse 8s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .hero-content { position: relative; z-index: 1; max-width: 900px; margin: 0 auto; }
        .hero h1 { font-size: 38px; font-weight: 800; margin-bottom: 15px; text-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .hero .version-badge { display: inline-block; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); padding: 4px 14px; border-radius: 15px; font-size: 13px; margin-bottom: 20px; }
        .hero p { font-size: 18px; opacity: 0.9; max-width: 700px; margin: 0 auto; }
        .hero-meta { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
        .hero-meta-item { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 10px; font-size: 13px; }
        .hero-meta-item strong { display: block; font-size: 11px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.7; margin-bottom: 2px; }

        .nav-bar { background: var(--white); border-bottom: 2px solid var(--gray-200); padding: 0 40px; position: sticky; top: 78px; z-index: 999; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .nav-bar ul { list-style: none; display: flex; max-width: 1400px; margin: 0 auto; overflow-x: auto; }
        .nav-bar ul li a { display: block; padding: 14px 20px; color: var(--gray-600); text-decoration: none; font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 3px solid transparent; transition: all 0.3s; white-space: nowrap; }
        .nav-bar ul li a:hover { color: var(--primary); border-bottom-color: var(--primary); background: rgba(123,91,123,0.06); }

        .main-content { max-width: 1200px; margin: 0 auto; padding: 40px; }
        .section { background: var(--white); border-radius: 16px; padding: 40px; margin-bottom: 30px; box-shadow: 0 2px 20px rgba(75,45,75,0.06); border: 1px solid var(--gray-200); }
        .section-header { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid var(--gray-200); }
        .section-icon { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0; }
        .section-icon.mauve { background: linear-gradient(135deg, var(--primary-light), var(--primary)); color: white; }
        .section-icon.deep { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; }
        .section-icon.warm { background: linear-gradient(135deg, #c9a84c, #b8943e); color: white; }
        .section-icon.plum { background: linear-gradient(135deg, #8e6b8e, #6b3f6b); color: white; }
        .section-icon.sage { background: linear-gradient(135deg, #7ba88e, #5a9e6f); color: white; }
        .section-icon.soft { background: linear-gradient(135deg, var(--accent), var(--primary-light)); color: white; }
        .section-header h2 { font-size: 24px; color: var(--secondary); font-weight: 700; }
        .section-header h2 small { display: block; font-size: 12px; color: var(--gray-500); font-weight: 400; text-transform: uppercase; letter-spacing: 2px; margin-top: 4px; }
        .section p { margin-bottom: 15px; color: var(--gray-700); }

        .highlight-box { background: linear-gradient(135deg, #f5eef5, #faf5fa); border-left: 4px solid var(--primary); padding: 15px 20px; border-radius: 0 10px 10px 0; margin: 20px 0; }
        .highlight-box.info { background: linear-gradient(135deg, #eee8f0, #f5eff7); border-left-color: var(--info); }
        .highlight-box.success { background: linear-gradient(135deg, #e8f0eb, #eff5f1); border-left-color: var(--success); }
        .highlight-box.danger { background: linear-gradient(135deg, #f0e8e9, #f7eff0); border-left-color: var(--danger); }
        .highlight-box strong { display: block; margin-bottom: 5px; color: var(--gray-800); }

        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .feature-card { background: var(--gray-100); border: 1px solid var(--gray-200); border-radius: 12px; padding: 25px; transition: all 0.3s; }
        .feature-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(75,45,75,0.12); border-color: var(--primary); }
        .feature-card .icon { font-size: 28px; margin-bottom: 12px; }
        .feature-card h4 { color: var(--secondary); margin-bottom: 8px; font-size: 16px; }
        .feature-card p { font-size: 13px; color: var(--gray-600); margin-bottom: 0; }

        .vflow { position: relative; padding-left: 60px; margin: 30px 0; }
        .vflow::before { content: ''; position: absolute; left: 28px; top: 0; bottom: 0; width: 3px; background: linear-gradient(to bottom, var(--primary), var(--secondary), var(--accent)); border-radius: 2px; }
        .vflow-step { position: relative; margin-bottom: 25px; padding: 20px; background: var(--gray-100); border-radius: 12px; border: 1px solid var(--gray-200); }
        .vflow-step::before { content: attr(data-step); position: absolute; left: -48px; top: 20px; width: 36px; height: 36px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 14px; box-shadow: 0 3px 10px rgba(123,91,123,0.35); z-index: 2; }
        .vflow-step h4 { color: var(--secondary); margin-bottom: 8px; font-size: 16px; }
        .vflow-step p { font-size: 14px; color: var(--gray-600); margin-bottom: 0; }

        .table-responsive { overflow-x: auto; margin: 20px 0; }
        table { width: 100%; border-collapse: collapse; font-size: 14px; }
        table thead th { background: var(--secondary); color: var(--white); padding: 12px 16px; text-align: left; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
        table thead th:first-child { border-radius: 10px 0 0 0; }
        table thead th:last-child { border-radius: 0 10px 0 0; }
        table tbody td { padding: 12px 16px; border-bottom: 1px solid var(--gray-200); }
        table tbody tr:hover { background: var(--gray-100); }
        table tbody tr:last-child td:first-child { border-radius: 0 0 0 10px; }
        table tbody tr:last-child td:last-child { border-radius: 0 0 10px 0; }

        .badge { display: inline-block; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .badge-complete { background: #dce8e0; color: #2a5a3a; }
        .badge-partial { background: #f0e8d4; color: #7a6530; }
        .badge-pending { background: #f0dfe0; color: #7a3035; }
        .badge-info { background: #dce8ef; color: #3a5f75; }
        .badge-locked { background: #f0e8d4; color: #7a6530; }
        .badge-ic { background: #e5dae5; color: #5E3F5E; }

        .eco-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 25px 0; }
        .eco-card { border: 2px solid var(--gray-300); border-radius: 16px; padding: 25px; text-align: center; transition: all 0.3s; }
        .eco-card:hover { border-color: var(--primary); box-shadow: 0 8px 25px rgba(75,45,75,0.12); }
        .eco-card h4 { color: var(--secondary); margin-bottom: 8px; font-size: 15px; }
        .eco-card .eco-icon { font-size: 36px; margin-bottom: 12px; }
        .eco-card p { font-size: 12px; color: var(--gray-600); margin-bottom: 0; }
        .eco-card.price { border-color: var(--info); background: linear-gradient(135deg, #f0f5f8, #e8eff3); }
        .eco-card.tracking { border-color: var(--primary); background: linear-gradient(135deg, #f5eef5, #ede4ed); }
        .eco-card.notif { border-color: var(--warning); background: linear-gradient(135deg, #f8f4e8, #f5f0dd); }

        .flow-horizontal { display: flex; align-items: center; justify-content: center; gap: 0; margin: 30px 0; flex-wrap: nowrap; overflow-x: auto; padding: 15px 0; }
        .flow-box { min-width: 160px; padding: 18px; border-radius: 12px; text-align: center; font-size: 13px; font-weight: 600; color: white; flex-shrink: 0; }
        .flow-box.co-a { background: linear-gradient(135deg, var(--info), #4a7a95); }
        .flow-box.process { background: linear-gradient(135deg, var(--primary), var(--secondary)); }
        .flow-box.co-b { background: linear-gradient(135deg, var(--success), #4a8e5f); }
        .flow-box.alert { background: linear-gradient(135deg, var(--warning), #b89a3e); }
        .flow-box.return { background: linear-gradient(135deg, var(--danger), #a5444a); }
        .flow-arrow { font-size: 24px; color: var(--gray-400); margin: 0 5px; flex-shrink: 0; }
        .flow-box small { display: block; font-weight: 400; font-size: 11px; margin-top: 4px; opacity: 0.9; }

        .faq-item { border: 1px solid var(--gray-200); border-radius: 12px; margin-bottom: 12px; overflow: hidden; transition: all 0.3s; }
        .faq-item:hover { border-color: var(--primary); box-shadow: 0 4px 15px rgba(123,91,123,0.12); }
        .faq-question { padding: 18px 20px; background: var(--gray-100); font-weight: 700; color: var(--secondary); display: flex; align-items: center; gap: 12px; }
        .faq-question .q-marker { background: var(--primary); color: white; width: 28px; height: 28px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 800; flex-shrink: 0; }
        .faq-answer { padding: 18px 20px; padding-left: 60px; color: var(--gray-700); font-size: 14px; border-top: 1px solid var(--gray-200); }

        .group-card { display: flex; align-items: flex-start; gap: 15px; padding: 20px; background: var(--gray-100); border-radius: 12px; margin: 10px 0; }
        .group-icon { width: 44px; height: 44px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0; }
        .group-icon.user { background: linear-gradient(135deg, var(--primary-light), var(--primary)); color: white; }
        .group-icon.admin { background: linear-gradient(135deg, var(--primary-dark), var(--secondary)); color: white; }
        .group-icon.price { background: linear-gradient(135deg, var(--info), #4a7a95); color: white; }

        .footer { background: var(--dark); color: var(--gray-500); padding: 40px; text-align: center; }
        .footer .company-name { font-size: 22px; font-weight: 800; color: var(--white); letter-spacing: 3px; margin-bottom: 5px; }
        .footer .tagline { font-size: 12px; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 20px; }
        .footer-divider { width: 60px; height: 3px; background: var(--primary); margin: 20px auto; border-radius: 2px; }
        .footer p { font-size: 13px; margin-bottom: 5px; }

        @media (max-width: 768px) {
            .header-top { padding: 10px 20px; } .hero { padding: 30px 20px; } .hero h1 { font-size: 26px; }
            .nav-bar { padding: 0 15px; } .main-content { padding: 20px; } .section { padding: 25px; }
            .eco-grid { grid-template-columns: 1fr; } .flow-horizontal { flex-direction: column; }
        }
        @media print { .header, .nav-bar { position: static; } .section { break-inside: avoid; box-shadow: none; border: 1px solid #ddd; } }
    </style>
</head>
<body>

<!-- HEADER -->
<div class="header">
    <div class="header-top">
        <div class="logo-area">
            <svg viewBox="0 0 240 48" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#9B7B9B"/><stop offset="100%" style="stop-color:#C9A0C9"/></linearGradient></defs>
                <rect x="0" y="4" width="40" height="40" rx="10" fill="url(#logoGrad)"/>
                <text x="20" y="32" font-family="Arial,sans-serif" font-size="26" font-weight="800" fill="white" text-anchor="middle">C</text>
                <text x="52" y="22" font-family="Arial,sans-serif" font-size="18" font-weight="800" fill="white" letter-spacing="2">COONDEV</text>
                <text x="52" y="38" font-family="Arial,sans-serif" font-size="8" fill="rgba(255,255,255,0.8)" letter-spacing="2">COONSULTING &amp; DEVELOPMENT</text>
            </svg>
        </div>
        <div class="header-badge">GUIA FUNCIONAL v1.0</div>
    </div>
</div>

<!-- HERO -->
<div class="hero">
    <div class="hero-content">
        <div class="version-badge">Odoo 18 Enterprise &bull; Modulo Especializado</div>
        <h1>Conteo de Inventario</h1>
        <p>Sistema completo de conteo fisico de inventario con flujo de aprobacion multinivel, asistente de importacion de productos, notificaciones por correo y generacion automatica de ajustes de stock.</p>
        <div class="hero-meta">
            <div class="hero-meta-item"><strong>Ecosistema</strong>Inventory Count</div>
            <div class="hero-meta-item"><strong>Categoria</strong>Inventario</div>
            <div class="hero-meta-item"><strong>Autor</strong>Coondev</div>
            <div class="hero-meta-item"><strong>Licencia</strong>LGPL-3</div>
        </div>
    </div>
</div>

<!-- NAVIGATION -->
<div class="nav-bar">
    <ul>
        <li><a href="#introduccion">Introduccion</a></li>
        <li><a href="#flujos">Flujos de Trabajo</a></li>
        <li><a href="#parametros">Parametros</a></li>
        <li><a href="#guia-paso-a-paso">Guia Paso a Paso</a></li>
        <li><a href="#estados">Estados</a></li>
        <li><a href="#trazabilidad">Trazabilidad</a></li>
        <li><a href="#reportes">Reportes</a></li>
        <li><a href="#faq">Preguntas y Respuestas</a></li>
    </ul>
</div>

<!-- MAIN CONTENT -->
<div class="main-content">

    <!-- 1. INTRODUCCION -->
    <div class="section" id="introduccion">
        <div class="section-header">
            <div class="section-icon mauve">&#128230;</div>
            <h2>1. Introduccion <small>Vision general del modulo</small></h2>
        </div>

        <p>El modulo de <strong>Conteo de Inventario</strong> implementa un proceso formal y controlado para la realizacion de conteos fisicos de existencias en almacen. A diferencia del conteo basico de Odoo, este modulo incorpora un <strong>flujo de aprobacion en tres niveles</strong> (contador, aprobador, gerente), un asistente inteligente para importar productos, notificaciones automaticas por correo electronico al equipo de auditoria y la generacion automatica de movimientos de ajuste de inventario.</p>

        <div class="highlight-box info">
            <strong>&#9432; Que resuelve este modulo?</strong>
            Los conteos fisicos de inventario requieren un proceso riguroso con segregacion de funciones: quien cuenta no debe ser quien aprueba, y quien aprueba no debe ser quien valida los ajustes finales. Este modulo garantiza esa separacion de responsabilidades, genera una pista de auditoria completa y calcula automaticamente las diferencias (sobrantes y faltantes) con su impacto economico.
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Componentes del Modulo</h3>
        <div class="eco-grid">
            <div class="eco-card price">
                <div class="eco-icon">&#128203;</div>
                <h4>Conteo con Aprobacion</h4>
                <p>Flujo de 6 estados con segregacion de funciones: contador registra, aprobador valida y gerente ejecuta los ajustes de stock.</p>
            </div>
            <div class="eco-card tracking">
                <div class="eco-icon">&#128229;</div>
                <h4>Asistente de Importacion</h4>
                <p>Asistente inteligente para cargar productos al conteo con filtros por bodega, ubicacion, categoria y modo de importacion (reemplazar o agregar).</p>
            </div>
            <div class="eco-card notif">
                <div class="eco-icon">&#128231;</div>
                <h4>Notificaciones Automaticas</h4>
                <p>Correos electronicos automaticos al equipo de auditoria al validar un conteo, con detalle de sobrantes y faltantes por producto.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Capacidades Principales</h3>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon">&#128274;</div>
                <h4>Segregacion de Funciones</h4>
                <p>Tres roles diferenciados: Usuario de Conteo, Aprobador y Gerente. Cada uno con permisos especificos segun su responsabilidad en el proceso.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128200;</div>
                <h4>Calculo Automatico de Diferencias</h4>
                <p>El sistema calcula automaticamente la diferencia entre la cantidad teorica (en sistema) y la cantidad contada, clasificandola como sobrante o faltante.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128176;</div>
                <h4>Valoracion Economica</h4>
                <p>Calculo del impacto monetario de las diferencias utilizando el costo estandar de cada producto. Totales de sobrantes y faltantes en valor.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128229;</div>
                <h4>Importacion Flexible de Productos</h4>
                <p>Asistente con multiples filtros: por bodega, ubicaciones, categorias y productos especificos. Modos de importacion que agregan o reemplazan lineas.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128231;</div>
                <h4>Notificaciones por Correo</h4>
                <p>Correos automaticos al equipo de auditoria con tabla detallada de diferencias, codificada por colores (verde para sobrantes, rojo para faltantes).</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128260;</div>
                <h4>Movimientos de Ajuste Automaticos</h4>
                <p>Al validar el conteo, se generan automaticamente los movimientos de stock necesarios para ajustar el inventario del sistema al conteo fisico real.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Dependencias del Modulo</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Modulo Requerido</th><th>Descripcion</th><th>Uso</th></tr></thead>
                <tbody>
                    <tr><td><strong>Inventario</strong></td><td>Gestion de almacen y movimientos de stock</td><td>Lectura de existencias y creacion de ajustes</td></tr>
                    <tr><td><strong>Productos</strong></td><td>Catalogo de productos y costos</td><td>Productos a contar y valoracion de diferencias</td></tr>
                    <tr><td><strong>Mensajeria</strong></td><td>Sistema de notificaciones de Odoo</td><td>Correos de validacion y solicitudes de aprobacion</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 2. FLUJOS DE TRABAJO -->
    <div class="section" id="flujos">
        <div class="section-header">
            <div class="section-icon deep">&#9881;</div>
            <h2>2. Flujos de Trabajo <small>Diagramas de procesos graficos</small></h2>
        </div>

        <h3 style="margin-bottom: 20px; color: var(--secondary);">2.1 Flujo General del Conteo de Inventario</h3>
        <div class="flow-horizontal">
            <div class="flow-box co-a">Borrador<small>Configurar filtros</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box alert">En Progreso<small>Conteo fisico</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box process">Contado<small>Solicitar aprobacion</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box co-b">Aprobado<small>Revisado por supervisor</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box return">Validado<small>Ajustes creados</small></div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.2 Flujo Detallado: Preparacion del Conteo</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Crear un nuevo conteo</h4>
                <p>El responsable crea un conteo de inventario, seleccionando la <strong>bodega</strong> donde se realizara. El sistema asigna automaticamente un numero de referencia secuencial (IC/2026/00001).</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Definir filtros de alcance</h4>
                <p>Se configuran los filtros opcionales: <strong>ubicaciones especificas</strong> dentro de la bodega, <strong>categoria de productos</strong> o <strong>productos puntuales</strong>. Tambien se puede programar una fecha y hora para el conteo.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Cargar productos con el asistente</h4>
                <p>Al presionar <strong>"Cargar Productos"</strong> se abre el asistente de importacion. Se puede elegir entre importar todos los productos almacenables o solo los que tengan historial de stock. El asistente carga las cantidades teoricas automaticamente desde el sistema.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Iniciar el conteo</h4>
                <p>Al presionar <strong>"Iniciar Conteo"</strong>, el conteo pasa a estado <span class="badge badge-partial">En Progreso</span> y queda habilitado para que el personal de almacen registre las cantidades fisicas.</p>
            </div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.3 Flujo Detallado: Conteo Fisico y Registro</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>El personal registra cantidades</h4>
                <p>Para cada linea del conteo, el personal ingresa la <strong>cantidad contada fisicamente</strong>. Cada producto muestra su ubicacion, unidad de medida y opcionalmente el lote o numero de serie.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>El sistema calcula diferencias</h4>
                <p>Automaticamente, el sistema calcula la <strong>diferencia</strong> entre la cantidad teorica y la contada, clasificandola como: <span class="badge badge-complete">Sobrante</span> (diferencia positiva), <span class="badge badge-pending">Faltante</span> (diferencia negativa) o sin diferencia.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Valoracion economica</h4>
                <p>El sistema calcula el <strong>valor monetario</strong> de la diferencia multiplicando la cantidad de diferencia por el costo estandar del producto. Se generan totales de sobrantes y faltantes en valor.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Marcar como contado</h4>
                <p>Una vez completado el conteo fisico, el responsable presiona <strong>"Marcar como Contado"</strong>. El conteo pasa a estado <span class="badge badge-ic">Contado</span> y queda listo para solicitar aprobacion.</p>
            </div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.4 Flujo Detallado: Aprobacion y Validacion</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Solicitar aprobacion</h4>
                <p>El responsable presiona <strong>"Solicitar Aprobacion"</strong>. El sistema envia una notificacion a los usuarios con rol de aprobador informando que hay un conteo pendiente de revision.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>El aprobador revisa y aprueba</h4>
                <p>Un usuario con rol de <strong>Aprobador</strong> revisa las diferencias detectadas. Si todo es correcto, presiona <strong>"Aprobar"</strong>. El sistema registra quien aprobo y en que fecha.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>El gerente valida y crea movimientos</h4>
                <p>Un usuario con rol de <strong>Gerente de Inventario</strong> realiza la validacion final presionando <strong>"Validar y Crear Movimientos"</strong>. El sistema genera automaticamente los movimientos de ajuste de stock necesarios.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Notificacion al equipo de auditoria</h4>
                <p>Al validar, el sistema envia un <strong>correo electronico</strong> al equipo de auditoria configurado en los ajustes, con la tabla detallada de todas las diferencias encontradas.</p>
            </div>
        </div>
    </div>

    <!-- 3. PARAMETROS -->
    <div class="section" id="parametros">
        <div class="section-header">
            <div class="section-icon warm">&#9881;</div>
            <h2>3. Parametros a Tener en Cuenta <small>Configuracion del modulo</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">3.1 Configuracion de Notificaciones</h3>
        <div class="highlight-box">
            <strong>&#9888; Configuracion Recomendada</strong>
            Para aprovechar las notificaciones automaticas, es necesario configurar los <strong>usuarios de auditoria</strong> que recibiran los correos de validacion. Esto se hace desde Configuracion &gt; Notificaciones del menu de Conteo de Inventario.
        </div>

        <div class="table-responsive">
            <table>
                <thead><tr><th>Parametro</th><th>Donde Configurar</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Usuarios de Notificacion</strong></td><td>Conteo de Inventario &gt; Configuracion</td><td>Usuarios que recibiran el correo electronico cuando se valide un conteo. Tipicamente el equipo de auditoria o control interno.</td></tr>
                    <tr><td><strong>Envio Automatico de Reporte</strong></td><td>Conteo de Inventario &gt; Configuracion</td><td>Si esta activo, al validar un conteo se envia automaticamente el reporte por correo.</td></tr>
                    <tr><td><strong>Incluir Lineas sin Diferencia</strong></td><td>Conteo de Inventario &gt; Configuracion</td><td>Si se incluyen en el reporte las lineas donde la cantidad contada coincide con la teorica.</td></tr>
                    <tr><td><strong>Notificar al Aprobar</strong></td><td>Conteo de Inventario &gt; Configuracion</td><td>Enviar notificacion cuando un conteo es aprobado por el supervisor.</td></tr>
                    <tr><td><strong>Notificar al Validar</strong></td><td>Conteo de Inventario &gt; Configuracion</td><td>Enviar notificacion cuando un conteo es validado y los ajustes son creados.</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.2 Filtros del Conteo</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Filtro</th><th>Tipo</th><th>Obligatorio</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Bodega</strong></td><td>Seleccion unica</td><td>Si</td><td>Define la bodega donde se realizara el conteo. Filtra las ubicaciones disponibles.</td></tr>
                    <tr><td><strong>Ubicaciones</strong></td><td>Seleccion multiple</td><td>No</td><td>Permite seleccionar ubicaciones especificas dentro de la bodega. Si no se seleccionan, se incluyen todas.</td></tr>
                    <tr><td><strong>Categoria de Productos</strong></td><td>Seleccion unica</td><td>No</td><td>Restringe el conteo a una categoria de productos especifica. Filtra los productos disponibles.</td></tr>
                    <tr><td><strong>Productos Especificos</strong></td><td>Seleccion multiple</td><td>No</td><td>Permite seleccionar productos puntuales a contar. Si se define junto con categoria, ambos filtros aplican.</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.3 Asistente de Importacion de Productos</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Parametro</th><th>Opciones</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Modo de Origen</strong></td><td>Todos los productos almacenables / Solo productos con historial de stock</td><td>Define la fuente de productos: todos los almacenables que coincidan con los filtros, o solo los que tengan registro previo de existencias en las ubicaciones seleccionadas.</td></tr>
                    <tr><td><strong>Modo de Importacion</strong></td><td>Agregar / Reemplazar</td><td><strong>Agregar</strong>: anade los productos nuevos sin eliminar los existentes. <strong>Reemplazar</strong>: elimina todas las lineas previas y crea nuevas desde cero.</td></tr>
                    <tr><td><strong>Incluir Stock Cero</strong></td><td>Si / No</td><td>Si se incluyen productos que tienen existencia cero en las ubicaciones seleccionadas. Util para detectar productos fisicamente presentes pero sin registro en sistema.</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.4 Numeracion Automatica</h3>
        <div class="highlight-box info">
            <strong>&#9432; Formato de Referencia</strong>
            Cada conteo recibe automaticamente un numero de referencia secuencial con el formato <strong>IC/AAAA/XXXXX</strong> (ejemplo: IC/2026/00001). La secuencia es global, se incrementa automaticamente y no se puede repetir.
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.5 Soporte de Lotes y Numeros de Serie</h3>
        <div class="highlight-box success">
            <strong>Trazabilidad por Lote</strong>
            Las lineas de conteo soportan la seleccion de <strong>lote o numero de serie</strong>. Esto permite contar por separado distintos lotes del mismo producto en la misma ubicacion, manteniendo la trazabilidad completa.
        </div>
    </div>

    <!-- 4. GUIA PASO A PASO -->
    <div class="section" id="guia-paso-a-paso">
        <div class="section-header">
            <div class="section-icon sage">&#128221;</div>
            <h2>4. Guia Paso a Paso <small>Configuracion y operacion</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">Paso 1: Instalar y Configurar</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Instalar el modulo</h4>
                <p>Ir a <strong>Aplicaciones</strong> y buscar "Inventory Count Management". Al instalar, se crean automaticamente la secuencia de numeracion, las plantillas de correo, los grupos de seguridad y los menus.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Configurar notificaciones</h4>
                <p>Ir a <strong>Conteo de Inventario &gt; Configuracion &gt; Notificaciones</strong>. Agregar los usuarios que conforman el equipo de auditoria o control interno. Activar o desactivar las opciones de envio automatico segun la politica de la empresa.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 2: Asignar Permisos</h3>
        <div class="group-card">
            <div class="group-icon user">&#128100;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Usuario de Conteo</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;">Puede crear conteos, importar productos, registrar cantidades contadas, marcar como contado y solicitar aprobacion. <strong>No puede</strong> aprobar, validar ni eliminar conteos.</p>
            </div>
        </div>
        <div class="group-card">
            <div class="group-icon price">&#128269;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Aprobador de Conteo</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;">Hereda todos los permisos del Usuario de Conteo. Adicionalmente puede <strong>aprobar conteos</strong> verificando que las diferencias sean correctas. No puede validar ni crear movimientos de ajuste.</p>
            </div>
        </div>
        <div class="group-card">
            <div class="group-icon admin">&#128272;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Gerente de Conteo</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;"><strong>Acceso completo.</strong> Hereda todos los permisos anteriores. Puede validar conteos y crear movimientos de ajuste, eliminar conteos, gestionar la configuracion de notificaciones y acceder a todos los reportes.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 3: Crear un Conteo de Inventario</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Crear el conteo</h4>
                <p>Ir a <strong>Conteo de Inventario &gt; Conteos &gt; Todos los Conteos &gt; Crear</strong>. Seleccionar la bodega donde se realizara el conteo. Opcionalmente definir la fecha programada, las ubicaciones, la categoria y los productos.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Cargar productos</h4>
                <p>Presionar el boton <strong>"Cargar Productos"</strong>. Se abrira el asistente de importacion. Seleccionar el modo de origen y el modo de importacion. Confirmar la importacion. Las lineas se crearan con las cantidades teoricas del sistema.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Iniciar el conteo</h4>
                <p>Presionar <strong>"Iniciar Conteo"</strong>. El estado cambia a "En Progreso". Las lineas quedan habilitadas para editar la cantidad contada.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 4: Registrar el Conteo Fisico</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Ingresar cantidades</h4>
                <p>En la pestana <strong>"Lineas de Conteo"</strong>, el personal ingresa la cantidad contada fisicamente para cada producto. La columna de diferencia se actualiza automaticamente.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Agregar notas por linea</h4>
                <p>Opcionalmente, se pueden agregar notas en cada linea para documentar observaciones del conteo (por ejemplo: "producto danado", "encontrado en ubicacion incorrecta").</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Revisar el resumen</h4>
                <p>En la pestana <strong>"Resumen"</strong> se muestran los totales: total de lineas, lineas con diferencia, cantidad total de sobrantes, cantidad total de faltantes, y el valor economico de cada uno.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Marcar como contado</h4>
                <p>Presionar <strong>"Marcar como Contado"</strong>. Se requiere que exista al menos una linea de conteo. El estado cambia a "Contado".</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 5: Aprobar y Validar</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Solicitar aprobacion</h4>
                <p>El responsable presiona <strong>"Solicitar Aprobacion"</strong>. Los aprobadores reciben una notificacion en su bandeja de mensajes indicando que hay un conteo pendiente de revision.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Aprobar el conteo</h4>
                <p>Un usuario con rol de Aprobador accede al conteo (desde el menu <strong>"Por Aprobar"</strong>), revisa las diferencias y presiona <strong>"Aprobar"</strong>. El sistema registra el nombre del aprobador y la fecha de aprobacion.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Validar y crear movimientos</h4>
                <p>Un usuario con rol de Gerente accede al conteo (desde el menu <strong>"Por Validar"</strong>) y presiona <strong>"Validar y Crear Movimientos"</strong>. El sistema genera los movimientos de ajuste de inventario para cada linea con diferencia.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Verificar los movimientos creados</h4>
                <p>En la ficha del conteo aparece un boton inteligente con la <strong>cantidad de movimientos creados</strong>. Al presionarlo, se listan todos los movimientos de ajuste de stock generados.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 6: Imprimir Reportes</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Imprimir reporte completo</h4>
                <p>Presionar <strong>"Imprimir Reporte"</strong> para obtener el informe completo con todas las lineas del conteo, informacion de responsables, totales y bloques de firmas.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Imprimir resumen de diferencias</h4>
                <p>Desde el menu de impresion, seleccionar <strong>"Resumen de Conteo"</strong> para un reporte que solo incluye las lineas con diferencias, separadas por sobrantes y faltantes con totales netos.</p>
            </div>
        </div>
    </div>

    <!-- 5. ESTADOS -->
    <div class="section" id="estados">
        <div class="section-header">
            <div class="section-icon plum">&#128203;</div>
            <h2>5. Estados del Proceso <small>Ciclo de vida del conteo</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">5.1 Estados del Conteo de Inventario</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Estado</th><th>Indicador</th><th>Quien Actua</th><th>Acciones Disponibles</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>Borrador</strong></td>
                        <td><span class="badge badge-info">Borrador</span></td>
                        <td>Usuario de Conteo</td>
                        <td>Configurar filtros, cargar productos, iniciar conteo</td>
                        <td>Estado inicial. Se definen los parametros del conteo y se importan los productos a contar.</td>
                    </tr>
                    <tr>
                        <td><strong>En Progreso</strong></td>
                        <td><span class="badge badge-partial">En Progreso</span></td>
                        <td>Personal de Almacen</td>
                        <td>Registrar cantidades, agregar notas, marcar como contado</td>
                        <td>El conteo fisico esta en ejecucion. Las lineas estan habilitadas para editar la cantidad contada.</td>
                    </tr>
                    <tr>
                        <td><strong>Contado</strong></td>
                        <td><span class="badge badge-ic">Contado</span></td>
                        <td>Responsable / Aprobador</td>
                        <td>Solicitar aprobacion, aprobar</td>
                        <td>El conteo fisico se completo. Las diferencias estan calculadas y el conteo espera revision.</td>
                    </tr>
                    <tr>
                        <td><strong>Aprobado</strong></td>
                        <td><span class="badge badge-complete">Aprobado</span></td>
                        <td>Gerente de Conteo</td>
                        <td>Validar y crear movimientos</td>
                        <td>Un aprobador verifico las diferencias. El conteo espera la validacion final del gerente.</td>
                    </tr>
                    <tr>
                        <td><strong>Validado</strong></td>
                        <td><span class="badge badge-complete">Validado</span></td>
                        <td>Solo consulta</td>
                        <td>Imprimir reportes, consultar movimientos</td>
                        <td>Estado final. Los movimientos de ajuste fueron creados. El conteo esta cerrado y no puede modificarse.</td>
                    </tr>
                    <tr>
                        <td><strong>Cancelado</strong></td>
                        <td><span class="badge badge-pending">Cancelado</span></td>
                        <td>Solo consulta</td>
                        <td>Volver a borrador</td>
                        <td>El conteo fue anulado antes de ser validado. Se puede reactivar volviendo a borrador.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.2 Diagrama de Transiciones</h3>
        <div class="flow-horizontal">
            <div class="flow-box co-a">Borrador<small>Preparacion</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box alert">En Progreso<small>Conteo fisico</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box process">Contado<small>Revision</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box co-b">Aprobado<small>Supervisor</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box return">Validado<small>Ajustes creados</small></div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.3 Reglas de Transicion</h3>
        <div class="highlight-box danger">
            <strong>&#9888; Restricciones Importantes</strong>
            Un conteo <strong>validado no puede cancelarse ni modificarse</strong> porque ya genero movimientos de ajuste en el inventario. Solo los conteos en estados previos a la validacion pueden cancelarse. Los conteos cancelados pueden volver a borrador para reiniciar el proceso.
        </div>

        <div class="highlight-box info">
            <strong>&#9432; Eliminacion de Conteos</strong>
            Solo se pueden eliminar conteos en estado <strong>Borrador</strong> o <strong>Cancelado</strong>. Los conteos en cualquier otro estado estan protegidos contra eliminacion para preservar la trazabilidad del proceso.
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.4 Tipos de Diferencia por Linea</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Tipo</th><th>Indicador</th><th>Condicion</th><th>Significado</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>Sobrante</strong></td>
                        <td><span class="badge badge-complete">Sobrante</span></td>
                        <td>Cantidad contada mayor que la teorica</td>
                        <td>Hay mas unidades fisicas que las registradas en el sistema. Requiere ajuste positivo.</td>
                    </tr>
                    <tr>
                        <td><strong>Faltante</strong></td>
                        <td><span class="badge badge-pending">Faltante</span></td>
                        <td>Cantidad contada menor que la teorica</td>
                        <td>Hay menos unidades fisicas que las registradas en el sistema. Requiere ajuste negativo.</td>
                    </tr>
                    <tr>
                        <td><strong>Sin Diferencia</strong></td>
                        <td><span class="badge badge-info">Sin Diferencia</span></td>
                        <td>Cantidad contada igual a la teorica</td>
                        <td>El inventario fisico coincide con el sistema. No requiere ajuste.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 6. TRAZABILIDAD -->
    <div class="section" id="trazabilidad">
        <div class="section-header">
            <div class="section-icon sage">&#128269;</div>
            <h2>6. Trazabilidad <small>Seguimiento completo del proceso</small></h2>
        </div>

        <p>El modulo proporciona trazabilidad completa de cada conteo de inventario, desde su creacion hasta la generacion de los movimientos de ajuste, incluyendo quien participo en cada etapa del proceso.</p>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.1 Informacion de Responsables</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Dato</th><th>Cuando se Registra</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Responsable</strong></td><td>Al crear el conteo</td><td>Usuario que creo y gestiona el conteo</td></tr>
                    <tr><td><strong>Contador</strong></td><td>Durante el conteo</td><td>Persona que realizo el conteo fisico en el almacen</td></tr>
                    <tr><td><strong>Aprobador</strong></td><td>Al aprobar</td><td>Supervisor que reviso y aprobo las diferencias</td></tr>
                    <tr><td><strong>Fecha de Aprobacion</strong></td><td>Al aprobar</td><td>Fecha y hora exacta de la aprobacion</td></tr>
                    <tr><td><strong>Validado Por</strong></td><td>Al validar</td><td>Gerente que autorizo la creacion de movimientos de ajuste</td></tr>
                    <tr><td><strong>Fecha de Validacion</strong></td><td>Al validar</td><td>Fecha y hora exacta de la validacion final</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.2 Trazabilidad por Linea de Conteo</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Dato</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Producto</strong></td><td>Producto contado con su codigo interno y nombre</td></tr>
                    <tr><td><strong>Ubicacion</strong></td><td>Ubicacion exacta dentro de la bodega donde se realizo el conteo</td></tr>
                    <tr><td><strong>Lote / Serie</strong></td><td>Numero de lote o serie del producto (si aplica)</td></tr>
                    <tr><td><strong>Cantidad Teorica</strong></td><td>Existencia registrada en el sistema al momento de cargar la linea</td></tr>
                    <tr><td><strong>Cantidad Contada</strong></td><td>Cantidad verificada fisicamente por el personal de almacen</td></tr>
                    <tr><td><strong>Diferencia</strong></td><td>Resultado de la cantidad contada menos la teorica</td></tr>
                    <tr><td><strong>Tipo de Diferencia</strong></td><td>Clasificacion automatica: sobrante, faltante o sin diferencia</td></tr>
                    <tr><td><strong>Costo del Producto</strong></td><td>Costo estandar unitario del producto al momento del conteo</td></tr>
                    <tr><td><strong>Valor de la Diferencia</strong></td><td>Impacto monetario: diferencia multiplicada por el costo unitario</td></tr>
                    <tr><td><strong>Notas</strong></td><td>Observaciones del personal sobre la linea especifica</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.3 Movimientos de Ajuste</h3>
        <div class="highlight-box success">
            <strong>Vinculacion con Movimientos de Stock</strong>
            Cada conteo validado genera movimientos de stock que quedan vinculados al conteo a traves de un boton inteligente. Esto permite navegar desde el conteo directamente a los movimientos creados y viceversa, manteniendo la pista de auditoria completa entre el conteo fisico y el ajuste en el sistema.
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.4 Historial de Comunicaciones</h3>
        <p>Todas las solicitudes de aprobacion, aprobaciones, validaciones y notificaciones se registran en el <strong>hilo de conversacion</strong> del conteo. Esto incluye los correos enviados al equipo de auditoria y las notificaciones a los aprobadores.</p>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.5 Prevencion de Duplicados</h3>
        <div class="highlight-box">
            <strong>&#9888; Restriccion de Unicidad</strong>
            El sistema impide que se cree mas de una linea de conteo para la misma combinacion de <strong>producto + ubicacion + lote</strong> dentro del mismo conteo. Si el asistente de importacion detecta que una combinacion ya existe, la omite automaticamente.
        </div>
    </div>

    <!-- 7. REPORTES -->
    <div class="section" id="reportes">
        <div class="section-header">
            <div class="section-icon warm">&#128202;</div>
            <h2>7. Detalle de Reportes <small>Reportes y vistas analiticas</small></h2>
        </div>

        <h3 style="margin: 0 0 15px; color: var(--secondary);">7.1 Reporte Completo de Conteo (PDF)</h3>
        <div class="feature-grid" style="grid-template-columns: 1fr 1fr;">
            <div class="feature-card">
                <h4>Seccion de Informacion General</h4>
                <p>Referencia del conteo, fecha, bodega, ubicaciones, estado, responsable, aprobador y validador con sus respectivas fechas.</p>
            </div>
            <div class="feature-card">
                <h4>Tabla de Resumen</h4>
                <p>Total de lineas, lineas con diferencia, cantidad total de sobrantes, cantidad total de faltantes, valor de sobrantes y valor de faltantes.</p>
            </div>
            <div class="feature-card">
                <h4>Tabla de Detalle</h4>
                <p>Todas las lineas del conteo con producto, codigo, ubicacion, unidad, cantidad teorica, cantidad contada, diferencia y tipo. Codificado por colores.</p>
            </div>
            <div class="feature-card">
                <h4>Bloques de Firma</h4>
                <p>Espacios para firma del contador, del aprobador y del validador. Incluye seccion de notas generales del conteo.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.2 Reporte Resumen de Diferencias (PDF)</h3>
        <div class="feature-grid" style="grid-template-columns: 1fr 1fr;">
            <div class="feature-card">
                <h4>Seccion de Sobrantes</h4>
                <p>Lista de productos con diferencia positiva (mas existencia fisica que en sistema). Codificado en verde con subtotal de unidades y valor.</p>
            </div>
            <div class="feature-card">
                <h4>Seccion de Faltantes</h4>
                <p>Lista de productos con diferencia negativa (menos existencia fisica que en sistema). Codificado en rojo con subtotal de unidades y valor.</p>
            </div>
        </div>
        <div class="highlight-box info">
            <strong>&#9432; Total Neto</strong>
            El reporte de resumen calcula el <strong>total neto de diferencias</strong>: la suma algebraica de sobrantes y faltantes, mostrando el impacto real del conteo sobre el inventario. Incluye bloques de firma para Auditoria/Control y Gerencia.
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.3 Correo Electronico de Validacion</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Seccion</th><th>Contenido</th></tr></thead>
                <tbody>
                    <tr><td><strong>Encabezado</strong></td><td>Referencia del conteo, fecha, bodega, nombre del validador</td></tr>
                    <tr><td><strong>Tabla de Resumen</strong></td><td>Total de lineas, diferencias detectadas, sobrantes y faltantes en cantidad y valor</td></tr>
                    <tr><td><strong>Tabla de Diferencias</strong></td><td>Detalle producto por producto de las lineas con diferencias, codificadas por color (verde sobrante, rojo faltante)</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.4 Vistas Analiticas</h3>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon">&#128197;</div>
                <h4>Vista Calendario</h4>
                <p>Muestra los conteos programados en formato calendario, coloreados por estado. Permite planificar conteos futuros visualmente.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128202;</div>
                <h4>Vista Tabla Dinamica</h4>
                <p>Analisis cruzado de sobrantes y faltantes por bodega y estado. Permite profundizar en los datos con multiples dimensiones.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128200;</div>
                <h4>Vista Grafica</h4>
                <p>Graficos de barras que muestran el valor de sobrantes y faltantes por bodega. Ideal para identificar tendencias y bodegas problematicas.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.5 Menus de Acceso Rapido</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Menu</th><th>Filtro Aplicado</th><th>Rol Requerido</th></tr></thead>
                <tbody>
                    <tr><td><strong>Todos los Conteos</strong></td><td>Sin filtro</td><td>Usuario de Conteo</td></tr>
                    <tr><td><strong>Por Aprobar</strong></td><td>Estado = Contado</td><td>Aprobador</td></tr>
                    <tr><td><strong>Por Validar</strong></td><td>Estado = Aprobado</td><td>Gerente</td></tr>
                    <tr><td><strong>Todas las Lineas</strong></td><td>Sin filtro</td><td>Usuario de Conteo</td></tr>
                    <tr><td><strong>Sobrantes</strong></td><td>Tipo de diferencia = Sobrante</td><td>Usuario de Conteo</td></tr>
                    <tr><td><strong>Faltantes</strong></td><td>Tipo de diferencia = Faltante</td><td>Usuario de Conteo</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 8. FAQ -->
    <div class="section" id="faq">
        <div class="section-header">
            <div class="section-icon mauve">&#10067;</div>
            <h2>8. Preguntas y Respuestas <small>Preguntas frecuentes del modulo</small></h2>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que es la cantidad teorica y de donde se obtiene?</div>
            <div class="faq-answer">La cantidad teorica es la <strong>existencia registrada en el sistema</strong> para un producto en una ubicacion especifica. Se obtiene automaticamente consultando los registros de existencias de Odoo al momento de cargar los productos. Se puede actualizar manualmente desde cada linea si se necesita refrescar el dato.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Puedo contar solo ciertos productos o ubicaciones?</div>
            <div class="faq-answer"><strong>Si.</strong> El modulo ofrece multiples filtros: puede seleccionar una <strong>categoria de productos</strong> para contar solo esa familia, o elegir <strong>productos especificos</strong> individualmente. Tambien puede restringir el conteo a <strong>ubicaciones puntuales</strong> dentro de la bodega en lugar de contar toda la bodega.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que pasa si necesito agregar mas productos despues de iniciar el conteo?</div>
            <div class="faq-answer">Puede volver a abrir el <strong>asistente de importacion</strong> en cualquier momento mientras el conteo este en progreso. Seleccione el modo <strong>"Agregar"</strong> para anadir productos nuevos sin eliminar los que ya tienen conteo registrado. Los productos duplicados se omiten automaticamente.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Quien puede aprobar un conteo?</div>
            <div class="faq-answer">Solo los usuarios con el rol de <strong>Aprobador de Conteo</strong> o superior (Gerente). Este rol se asigna desde los ajustes de usuarios de Odoo. La aprobacion implica que el supervisor verifico que las diferencias reportadas son correctas y que el conteo se realizo adecuadamente.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Se puede validar un conteo sin aprobacion previa?</div>
            <div class="faq-answer"><strong>No.</strong> El flujo de aprobacion es obligatorio. Un conteo debe estar en estado <strong>"Aprobado"</strong> antes de poder ser validado por el gerente. Esto garantiza la segregacion de funciones: quien cuenta no aprueba, y quien aprueba no necesariamente valida.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que movimientos de stock se generan al validar?</div>
            <div class="faq-answer">Para cada linea con diferencia, el sistema crea un <strong>movimiento de ajuste de inventario</strong>. Los sobrantes generan un movimiento de entrada (incrementa el stock). Los faltantes generan un movimiento de salida (reduce el stock). Las lineas sin diferencia no generan movimientos.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Puedo cancelar un conteo ya validado?</div>
            <div class="faq-answer"><strong>No.</strong> Una vez validado, el conteo genera movimientos de ajuste de stock que ya afectaron el inventario del sistema. No se puede cancelar ni revertir desde el modulo de conteo. Si se requiere correccion, se debe crear un nuevo conteo o ajustar manualmente los movimientos de stock.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>A quienes se les envia el correo de validacion?</div>
            <div class="faq-answer">A los usuarios configurados como <strong>destinatarios de notificaciones</strong> en la seccion de Configuracion del modulo. Tipicamente son los miembros del equipo de auditoria o control interno. El correo incluye el resumen del conteo y la tabla detallada de todas las diferencias encontradas.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>El modulo soporta conteos por lote o numero de serie?</div>
            <div class="faq-answer"><strong>Si.</strong> Cada linea de conteo tiene un campo opcional para <strong>lote o numero de serie</strong>. Esto permite contar por separado distintos lotes del mismo producto en la misma ubicacion. La restriccion de unicidad se aplica sobre la combinacion de producto + ubicacion + lote.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Como se calcula el valor de las diferencias?</div>
            <div class="faq-answer">El valor se calcula multiplicando la <strong>cantidad de diferencia</strong> (sobrante o faltante) por el <strong>costo estandar</strong> del producto. Esto proporciona el impacto monetario real de cada diferencia. Los totales de valor de sobrantes y faltantes se muestran en la pestana de resumen y en los reportes.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Puedo eliminar un conteo?</div>
            <div class="faq-answer">Solo se pueden eliminar conteos en estado <strong>Borrador</strong> o <strong>Cancelado</strong>, y unicamente por usuarios con rol de Gerente. Los conteos en progreso, contados, aprobados o validados estan protegidos contra eliminacion para mantener la integridad de la pista de auditoria.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>El modulo funciona en entornos multi-compania?</div>
            <div class="faq-answer"><strong>Si.</strong> Cada conteo esta asociado a una compania. Las reglas de acceso garantizan que los usuarios solo vean los conteos de su compania. La configuracion de notificaciones tambien se define por compania, permitiendo equipos de auditoria independientes.</div>
        </div>
    </div>

</div>

<!-- FOOTER -->
<div class="footer">
    <div class="company-name">COONDEV</div>
    <div class="tagline">Coonsulting &amp; Development</div>
    <div class="footer-divider"></div>
    <p>Guia Funcional - Conteo de Inventario</p>
    <p>Ecosistema: <strong>Inventory Count Management</strong> | Odoo 18</p>
    <p style="margin-top: 15px; font-size: 12px; opacity: 0.7;">Documento generado &bull; Febrero 2026</p>
</div>

</body>
</html>