<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a Funcional - Control de Cierre de Caja POS | COONDEV</title>
    <style>
        :root {
            --primary: #7B5B7B;
            --primary-dark: #5E3F5E;
            --primary-light: #9B7B9B;
            --secondary: #4A2D4A;
            --accent: #C9A0C9;
            --dark: #2E1A2E;
            --gray-100: #f8f7f9;
            --gray-200: #eae7ec;
            --gray-300: #ddd8df;
            --gray-400: #c4bdc7;
            --gray-500: #9e95a1;
            --gray-600: #6c636f;
            --gray-700: #4a434d;
            --gray-800: #342e37;
            --white: #ffffff;
            --success: #5a9e6f;
            --warning: #c9a84c;
            --danger: #b5545a;
            --info: #6b8fa8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--gray-800);
            background: var(--gray-100);
        }

        .header {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 50%, var(--primary-light) 100%);
            color: var(--white);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(75,45,75,0.25);
        }
        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 40px;
            max-width: 1400px;
            margin: 0 auto;
        }
        .logo-area { display: flex; align-items: center; gap: 20px; }
        .logo-area svg { height: 48px; width: auto; }
        .header-badge {
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            letter-spacing: 1px;
        }

        .hero {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 40%, var(--primary-light) 100%);
            color: var(--white);
            padding: 60px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: -50%; left: -50%;
            width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.06) 0%, transparent 60%);
            animation: pulse 8s ease-in-out infinite;
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .hero-content { position: relative; z-index: 1; max-width: 900px; margin: 0 auto; }
        .hero h1 { font-size: 38px; font-weight: 800; margin-bottom: 15px; text-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .hero .version-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 4px 14px;
            border-radius: 15px;
            font-size: 13px;
            margin-bottom: 20px;
        }
        .hero p { font-size: 18px; opacity: 0.9; max-width: 700px; margin: 0 auto; }
        .hero-meta { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
        .hero-meta-item {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 13px;
        }
        .hero-meta-item strong {
            display: block;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.7;
            margin-bottom: 2px;
        }

        .nav-bar {
            background: var(--white);
            border-bottom: 2px solid var(--gray-200);
            padding: 0 40px;
            position: sticky;
            top: 78px;
            z-index: 999;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .nav-bar ul { list-style: none; display: flex; max-width: 1400px; margin: 0 auto; overflow-x: auto; }
        .nav-bar ul li a {
            display: block;
            padding: 14px 20px;
            color: var(--gray-600);
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            white-space: nowrap;
        }
        .nav-bar ul li a:hover { color: var(--primary); border-bottom-color: var(--primary); background: rgba(123,91,123,0.06); }

        .main-content { max-width: 1200px; margin: 0 auto; padding: 40px; }

        .section {
            background: var(--white);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 2px 20px rgba(75,45,75,0.06);
            border: 1px solid var(--gray-200);
        }
        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--gray-200);
        }
        .section-icon {
            width: 50px; height: 50px;
            border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }
        .section-icon.mauve { background: linear-gradient(135deg, var(--primary-light), var(--primary)); color: white; }
        .section-icon.deep { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; }
        .section-icon.warm { background: linear-gradient(135deg, #c9a84c, #b8943e); color: white; }
        .section-icon.plum { background: linear-gradient(135deg, #8e6b8e, #6b3f6b); color: white; }
        .section-icon.sage { background: linear-gradient(135deg, #7ba88e, #5a9e6f); color: white; }
        .section-icon.soft { background: linear-gradient(135deg, var(--accent), var(--primary-light)); color: white; }
        .section-icon.steel { background: linear-gradient(135deg, var(--info), #4a7a95); color: white; }
        .section-header h2 { font-size: 24px; color: var(--secondary); font-weight: 700; }
        .section-header h2 small {
            display: block;
            font-size: 12px;
            color: var(--gray-500);
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 4px;
        }
        .section p { margin-bottom: 15px; color: var(--gray-700); }

        .highlight-box {
            background: linear-gradient(135deg, #f5eef5, #faf5fa);
            border-left: 4px solid var(--primary);
            padding: 15px 20px;
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
        }
        .highlight-box.info { background: linear-gradient(135deg, #eee8f0, #f5eff7); border-left-color: var(--info); }
        .highlight-box.success { background: linear-gradient(135deg, #e8f0eb, #eff5f1); border-left-color: var(--success); }
        .highlight-box.danger { background: linear-gradient(135deg, #f0e8e9, #f7eff0); border-left-color: var(--danger); }
        .highlight-box.warning { background: linear-gradient(135deg, #f8f4e8, #f5f0dd); border-left-color: var(--warning); }
        .highlight-box strong { display: block; margin-bottom: 5px; color: var(--gray-800); }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s;
        }
        .feature-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(75,45,75,0.12); border-color: var(--primary); }
        .feature-card .icon { font-size: 28px; margin-bottom: 12px; }
        .feature-card h4 { color: var(--secondary); margin-bottom: 8px; font-size: 16px; }
        .feature-card p { font-size: 13px; color: var(--gray-600); margin-bottom: 0; }

        .vflow { position: relative; padding-left: 60px; margin: 30px 0; }
        .vflow::before {
            content: '';
            position: absolute;
            left: 28px; top: 0; bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--primary), var(--secondary), var(--accent));
            border-radius: 2px;
        }
        .vflow-step {
            position: relative;
            margin-bottom: 25px;
            padding: 20px;
            background: var(--gray-100);
            border-radius: 12px;
            border: 1px solid var(--gray-200);
        }
        .vflow-step::before {
            content: attr(data-step);
            position: absolute;
            left: -48px; top: 20px;
            width: 36px; height: 36px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex; align-items: center; justify-content: center;
            font-weight: 800;
            font-size: 14px;
            box-shadow: 0 3px 10px rgba(123,91,123,0.35);
            z-index: 2;
        }
        .vflow-step h4 { color: var(--secondary); margin-bottom: 8px; font-size: 16px; }
        .vflow-step p { font-size: 14px; color: var(--gray-600); margin-bottom: 0; }

        .table-responsive { overflow-x: auto; margin: 20px 0; }
        table { width: 100%; border-collapse: collapse; font-size: 14px; }
        table thead th {
            background: var(--secondary);
            color: var(--white);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        table thead th:first-child { border-radius: 10px 0 0 0; }
        table thead th:last-child { border-radius: 0 10px 0 0; }
        table tbody td { padding: 12px 16px; border-bottom: 1px solid var(--gray-200); }
        table tbody tr:hover { background: var(--gray-100); }
        table tbody tr:last-child td:first-child { border-radius: 0 0 0 10px; }
        table tbody tr:last-child td:last-child { border-radius: 0 0 10px 0; }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .badge-complete { background: #dce8e0; color: #2a5a3a; }
        .badge-partial { background: #f0e8d4; color: #7a6530; }
        .badge-pending { background: #f0dfe0; color: #7a3035; }
        .badge-info { background: #dce8ef; color: #3a5f75; }
        .badge-locked { background: #e5dae5; color: #5E3F5E; }
        .badge-success { background: #dce8e0; color: #2a5a3a; }
        .badge-danger { background: #f0dfe0; color: #7a3035; }
        .badge-warning { background: #f0e8d4; color: #7a6530; }

        .eco-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 25px 0;
        }
        .eco-card {
            border: 2px solid var(--gray-300);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
        }
        .eco-card:hover { border-color: var(--primary); box-shadow: 0 8px 25px rgba(75,45,75,0.12); }
        .eco-card h4 { color: var(--secondary); margin-bottom: 8px; font-size: 15px; }
        .eco-card .eco-icon { font-size: 36px; margin-bottom: 12px; }
        .eco-card p { font-size: 12px; color: var(--gray-600); margin-bottom: 0; }
        .eco-card.validate { border-color: var(--primary); background: linear-gradient(135deg, #f5eef5, #ede4ed); }
        .eco-card.dian { border-color: var(--info); background: linear-gradient(135deg, #f0f5f8, #e8eff3); }
        .eco-card.report { border-color: var(--warning); background: linear-gradient(135deg, #f8f4e8, #f5f0dd); }

        .flow-horizontal {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            margin: 30px 0;
            flex-wrap: nowrap;
            overflow-x: auto;
            padding: 15px 0;
        }
        .flow-box {
            min-width: 150px;
            padding: 18px 14px;
            border-radius: 12px;
            text-align: center;
            font-size: 13px;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
        }
        .flow-box.pos { background: linear-gradient(135deg, var(--info), #4a7a95); }
        .flow-box.process { background: linear-gradient(135deg, var(--primary), var(--secondary)); }
        .flow-box.validate { background: linear-gradient(135deg, var(--success), #4a8e5f); }
        .flow-box.alert { background: linear-gradient(135deg, var(--warning), #b89a3e); }
        .flow-box.block { background: linear-gradient(135deg, var(--danger), #a5444a); }
        .flow-box.dian { background: linear-gradient(135deg, #5a7fa8, #3a5f88); }
        .flow-arrow { font-size: 24px; color: var(--gray-400); margin: 0 5px; flex-shrink: 0; }
        .flow-box small { display: block; font-weight: 400; font-size: 11px; margin-top: 4px; opacity: 0.9; }

        .faq-item {
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            margin-bottom: 12px;
            overflow: hidden;
            transition: all 0.3s;
        }
        .faq-item:hover { border-color: var(--primary); box-shadow: 0 4px 15px rgba(123,91,123,0.12); }
        .faq-question {
            padding: 18px 20px;
            background: var(--gray-100);
            font-weight: 700;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .faq-question .q-marker {
            background: var(--primary);
            color: white;
            width: 28px; height: 28px;
            border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
            font-size: 14px;
            font-weight: 800;
            flex-shrink: 0;
        }
        .faq-answer {
            padding: 18px 20px;
            padding-left: 60px;
            color: var(--gray-700);
            font-size: 14px;
            border-top: 1px solid var(--gray-200);
        }

        .group-card {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 20px;
            background: var(--gray-100);
            border-radius: 12px;
            margin: 10px 0;
        }
        .group-icon {
            width: 44px; height: 44px;
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }
        .group-icon.user { background: linear-gradient(135deg, var(--primary-light), var(--primary)); color: white; }
        .group-icon.admin { background: linear-gradient(135deg, var(--primary-dark), var(--secondary)); color: white; }
        .group-icon.manager { background: linear-gradient(135deg, var(--info), #4a7a95); color: white; }

        .decision-box {
            display: flex;
            align-items: stretch;
            gap: 20px;
            margin: 20px 0;
        }
        .decision-path {
            flex: 1;
            border-radius: 12px;
            padding: 20px;
            border: 2px solid var(--gray-300);
        }
        .decision-path.yes {
            border-color: var(--success);
            background: linear-gradient(135deg, #e8f0eb, #f5faf7);
        }
        .decision-path.no {
            border-color: var(--danger);
            background: linear-gradient(135deg, #f0e8e9, #faf5f5);
        }
        .decision-path h4 { margin-bottom: 8px; font-size: 15px; }
        .decision-path.yes h4 { color: var(--success); }
        .decision-path.no h4 { color: var(--danger); }
        .decision-path p { font-size: 13px; color: var(--gray-600); margin-bottom: 0; }

        .status-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        .status-node {
            padding: 14px 22px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 700;
            text-align: center;
            min-width: 140px;
        }
        .status-node.open { background: #dce8ef; color: #3a5f75; border: 2px solid #6b8fa8; }
        .status-node.closing { background: #f0e8d4; color: #7a6530; border: 2px solid #c9a84c; }
        .status-node.validating { background: #e5dae5; color: #5E3F5E; border: 2px solid var(--primary); }
        .status-node.blocked { background: #f0dfe0; color: #7a3035; border: 2px solid #b5545a; }
        .status-node.closed { background: #dce8e0; color: #2a5a3a; border: 2px solid #5a9e6f; }
        .status-arrow { font-size: 22px; color: var(--gray-400); margin: 0 8px; }

        .footer {
            background: var(--dark);
            color: var(--gray-500);
            padding: 40px;
            text-align: center;
        }
        .footer .company-name {
            font-size: 22px;
            font-weight: 800;
            color: var(--white);
            letter-spacing: 3px;
            margin-bottom: 5px;
        }
        .footer .tagline {
            font-size: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 20px;
        }
        .footer-divider {
            width: 60px; height: 3px;
            background: var(--primary);
            margin: 20px auto;
            border-radius: 2px;
        }
        .footer p { font-size: 13px; margin-bottom: 5px; }

        @media (max-width: 768px) {
            .header-top { padding: 10px 20px; }
            .hero { padding: 30px 20px; }
            .hero h1 { font-size: 26px; }
            .nav-bar { padding: 0 15px; }
            .main-content { padding: 20px; }
            .section { padding: 25px; }
            .eco-grid { grid-template-columns: 1fr; }
            .flow-horizontal { flex-direction: column; }
            .flow-arrow { transform: rotate(90deg); }
            .decision-box { flex-direction: column; }
            .status-flow { flex-direction: column; }
            .status-arrow { transform: rotate(90deg); }
        }

        @media print {
            .header, .nav-bar { position: static; }
            .section { break-inside: avoid; box-shadow: none; border: 1px solid #ddd; }
        }
    </style>
</head>
<body>

<!-- HEADER -->
<div class="header">
    <div class="header-top">
        <div class="logo-area">
            <svg viewBox="0 0 240 48" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#9B7B9B"/><stop offset="100%" style="stop-color:#C9A0C9"/></linearGradient></defs>
                <rect x="0" y="4" width="40" height="40" rx="10" fill="url(#logoGrad)"/>
                <text x="20" y="32" font-family="Arial,sans-serif" font-size="26" font-weight="800" fill="white" text-anchor="middle">C</text>
                <text x="52" y="22" font-family="Arial,sans-serif" font-size="18" font-weight="800" fill="white" letter-spacing="2">COONDEV</text>
                <text x="52" y="38" font-family="Arial,sans-serif" font-size="8" fill="rgba(255,255,255,0.8)" letter-spacing="2">COONSULTING &amp; DEVELOPMENT</text>
            </svg>
        </div>
        <div class="header-badge">GUIA FUNCIONAL v1.0</div>
    </div>
</div>

<!-- HERO -->
<div class="hero">
    <div class="hero-content">
        <div class="version-badge">Odoo 18 Enterprise &bull; Modulo POS</div>
        <h1>Control de Cierre de Caja POS</h1>
        <p>Modulo de restriccion y validacion obligatoria para el cierre de sesiones del Punto de Venta. Garantiza que todas las ordenes esten facturadas y procesadas por la DIAN antes de permitir el cierre de caja.</p>
        <div class="hero-meta">
            <div class="hero-meta-item"><strong>Modulo</strong>coondev_pos_session_close_restriction</div>
            <div class="hero-meta-item"><strong>Categoria</strong>Punto de Venta</div>
            <div class="hero-meta-item"><strong>Autor</strong>Coondev SAS</div>
            <div class="hero-meta-item"><strong>Licencia</strong>LGPL-3</div>
        </div>
    </div>
</div>

<!-- NAVIGATION -->
<div class="nav-bar">
    <ul>
        <li><a href="#introduccion">Introduccion</a></li>
        <li><a href="#flujos">Flujos de Trabajo</a></li>
        <li><a href="#parametros">Parametros</a></li>
        <li><a href="#guia-paso-a-paso">Guia Paso a Paso</a></li>
        <li><a href="#estados">Estados</a></li>
        <li><a href="#trazabilidad">Trazabilidad</a></li>
        <li><a href="#reportes">Reportes</a></li>
        <li><a href="#faq">Preguntas y Respuestas</a></li>
    </ul>
</div>

<!-- MAIN CONTENT -->
<div class="main-content">

    <!-- 1. INTRODUCCION -->
    <div class="section" id="introduccion">
        <div class="section-header">
            <div class="section-icon mauve">&#128179;</div>
            <h2>1. Introduccion <small>Vision general del modulo</small></h2>
        </div>

        <p>El modulo <strong>Control de Cierre de Caja POS</strong> (<code>coondev_pos_session_close_restriction</code>) implementa un sistema de validacion obligatoria durante el proceso de cierre de sesiones del Punto de Venta en Odoo 18. Su proposito es garantizar el cumplimiento fiscal y contable antes de que una caja pueda ser cerrada.</p>

        <div class="highlight-box info">
            <strong>&#9432; Que problema resuelve este modulo?</strong>
            En operaciones de Punto de Venta, es comun que los cajeros cierren la sesion sin verificar que todas las ordenes esten correctamente facturadas o que las facturas electronicas hayan sido procesadas exitosamente por la DIAN (Direccion de Impuestos y Aduanas Nacionales de Colombia). Esto puede generar inconsistencias contables, facturas sin validar ante la autoridad tributaria y problemas de trazabilidad fiscal. Este modulo bloquea el cierre de caja hasta que todas las validaciones sean satisfactorias.
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Componentes del Modulo</h3>
        <div class="eco-grid">
            <div class="eco-card validate">
                <div class="eco-icon">&#9989;</div>
                <h4>Validacion de Facturacion</h4>
                <p>Verifica que cada orden del POS tenga una factura asociada en estado "Publicado" (posted). Bloquea el cierre si existen ordenes sin facturar o con facturas en borrador.</p>
            </div>
            <div class="eco-card dian">
                <div class="eco-icon">&#128220;</div>
                <h4>Validacion DIAN</h4>
                <p>Comprueba que cada factura haya sido enviada y procesada por la DIAN con codigos de estado aceptados (00 o 66). Impide el cierre si hay facturas rechazadas o sin enviar.</p>
            </div>
            <div class="eco-card report">
                <div class="eco-icon">&#128203;</div>
                <h4>Reporte de Ordenes Pendientes</h4>
                <p>Consulta dedicada accesible desde el menu del POS que lista todas las ordenes con problemas de facturacion o DIAN, con filtros y agrupaciones para facilitar la gestion.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Capacidades Principales</h3>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon">&#128274;</div>
                <h4>Bloqueo Inteligente de Cierre</h4>
                <p>Intercepta el proceso estandar de cierre de sesion POS y ejecuta validaciones multi-etapa antes de permitir que la sesion se cierre.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128196;</div>
                <h4>Verificacion de Facturacion</h4>
                <p>Valida que cada orden tenga factura asociada y que la factura este en estado "Publicado" (posted), no en borrador ni cancelada.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#127467;&#127466;</div>
                <h4>Verificacion DIAN</h4>
                <p>Confirma que cada factura haya sido enviada a la DIAN y tenga un codigo de estado aceptado (00 - Procesado Correctamente o 66 - NSU no encontrado).</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128276;</div>
                <h4>Asistente de Advertencia</h4>
                <p>Cuando se detectan problemas, muestra un wizard detallado con la lista de ordenes invalidas, el motivo especifico de cada una e instrucciones de resolucion.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128101;</div>
                <h4>Exclusion Inteligente de Reembolsos</h4>
                <p>Detecta automaticamente ordenes de reembolso y ordenes con monto cero, excluyendolas de la validacion para evitar falsos bloqueos.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128272;</div>
                <h4>Bypass de Emergencia</h4>
                <p>Grupo de seguridad especial que permite a usuarios autorizados cerrar la sesion sin pasar por las validaciones, para situaciones excepcionales.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Dependencias del Modulo</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Modulo Requerido</th><th>Descripcion</th><th>Uso en el Modulo</th></tr></thead>
                <tbody>
                    <tr><td><strong>point_of_sale</strong></td><td>Modulo de Punto de Venta de Odoo</td><td>Modelo base: pos.session, pos.order, cierre de sesion</td></tr>
                    <tr><td><strong>account</strong></td><td>Modulo de Contabilidad de Odoo</td><td>Modelo de facturas: account.move, estados de factura</td></tr>
                    <tr><td><strong>l10n_co_e_invoicing</strong> <em>(opcional)</em></td><td>Facturacion Electronica Colombia</td><td>Modelo DIAN: account.invoice.dian.document, codigos de estado</td></tr>
                </tbody>
            </table>
        </div>

        <div class="highlight-box success">
            <strong>&#9989; Compatibilidad con DIAN</strong>
            Si el modulo de facturacion electronica colombiana (<code>l10n_co_e_invoicing</code>) no esta instalado, el modulo omite automaticamente la validacion DIAN y solo verifica la facturacion. Esto permite su uso en entornos sin requisitos de facturacion electronica.
        </div>
    </div>

    <!-- 2. FLUJOS DE TRABAJO -->
    <div class="section" id="flujos">
        <div class="section-header">
            <div class="section-icon deep">&#9881;</div>
            <h2>2. Flujos de Trabajo <small>Diagramas de procesos graficos</small></h2>
        </div>

        <h3 style="margin-bottom: 20px; color: var(--secondary);">2.1 Flujo General del Cierre de Caja</h3>
        <div class="flow-horizontal">
            <div class="flow-box pos">Cierre de Sesion<small>Usuario solicita cerrar</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box process">Verificacion Permisos<small>Bypass o validacion</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box dian">Validacion Facturas<small>Estado + DIAN</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box alert">Resultado<small>Valido o con errores</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box validate">Cierre Exitoso<small>Sesion cerrada</small></div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.2 Flujo Detallado: Proceso de Validacion al Cerrar Sesion</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>El usuario solicita cerrar la sesion POS</h4>
                <p>El cajero o responsable hace clic en <strong>"Cerrar"</strong> en la interfaz del Punto de Venta. El sistema intercepta esta accion antes de ejecutar el cierre estandar de Odoo.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Verificacion de permisos de bypass</h4>
                <p>El sistema verifica si el usuario actual pertenece al grupo <strong>"POS: Bypass de Validaciones de Cierre"</strong>. Si pertenece al grupo, se omiten todas las validaciones y el cierre procede normalmente.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Recopilacion de ordenes de la sesion</h4>
                <p>Se obtienen todas las ordenes (<code>pos.order</code>) asociadas a la sesion actual. Se <strong>excluyen automaticamente</strong>: ordenes con monto total igual a cero ($0) y ordenes de reembolso (montos negativos, ordenes marcadas como reembolso o con todas las lineas en cantidades negativas).</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Validacion de facturacion por orden</h4>
                <p>Para cada orden elegible, el sistema verifica:<br>
                <strong>a)</strong> Que la orden tenga una factura asociada (<code>account.move</code>).<br>
                <strong>b)</strong> Que la factura este en estado <strong>"Publicado"</strong> (posted), no en borrador ni cancelada.</p>
            </div>
            <div class="vflow-step" data-step="5">
                <h4>Validacion DIAN (si aplica)</h4>
                <p>Si el modulo de facturacion electronica esta instalado, para cada factura se verifica:<br>
                <strong>a)</strong> Que exista un documento DIAN asociado (<code>account.invoice.dian.document</code>).<br>
                <strong>b)</strong> Que el codigo de estado DIAN sea <strong>"00"</strong> (Procesado Correctamente) o <strong>"66"</strong> (NSU no encontrado, considerado valido).</p>
            </div>
            <div class="vflow-step" data-step="6">
                <h4>Resultado de la validacion</h4>
                <p>Si <strong>todas las ordenes son validas</strong>: el cierre de sesion procede con el flujo estandar de Odoo.<br>
                Si <strong>existen ordenes invalidas</strong>: se muestra un asistente (wizard) con el detalle de cada orden problematica, el motivo del bloqueo e instrucciones para resolver cada caso.</p>
            </div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.3 Flujo de Decision: Orden Valida o Invalida</h3>

        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>La orden tiene monto cero o es reembolso?</h4>
                <div class="decision-box">
                    <div class="decision-path yes">
                        <h4>&#10004; SI - Se excluye</h4>
                        <p>La orden se omite de la validacion. No bloquea el cierre de caja bajo ninguna circunstancia.</p>
                    </div>
                    <div class="decision-path no">
                        <h4>&#10008; NO - Continua validacion</h4>
                        <p>Se procede a verificar la facturacion de la orden.</p>
                    </div>
                </div>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>La orden tiene factura en estado "Publicado"?</h4>
                <div class="decision-box">
                    <div class="decision-path yes">
                        <h4>&#10004; SI - Factura valida</h4>
                        <p>Se procede a verificar el estado DIAN de la factura (si el modulo DIAN esta instalado).</p>
                    </div>
                    <div class="decision-path no">
                        <h4>&#10008; NO - Orden invalida</h4>
                        <p>Se marca como invalida con el motivo: "Orden no facturada" o "Factura en estado [borrador/cancelada]".</p>
                    </div>
                </div>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>La factura fue procesada exitosamente por la DIAN?</h4>
                <div class="decision-box">
                    <div class="decision-path yes">
                        <h4>&#10004; SI - Codigo 00 o 66</h4>
                        <p>La orden pasa todas las validaciones. No bloquea el cierre de la sesion.</p>
                    </div>
                    <div class="decision-path no">
                        <h4>&#10008; NO - DIAN rechazada o pendiente</h4>
                        <p>Se marca como invalida con el motivo especifico del estado DIAN (no enviada, codigo 90, codigo 99, etc.).</p>
                    </div>
                </div>
            </div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.4 Flujo del Asistente de Advertencia</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Se detectan ordenes invalidas</h4>
                <p>El sistema crea automaticamente un registro del asistente (<code>pos.session.close.warning.wizard</code>) con una linea por cada orden que no paso la validacion, incluyendo: numero de orden, cliente, fecha, monto, estado de facturacion, estado DIAN y motivo del problema.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Se muestra el wizard de advertencia</h4>
                <p>Aparece una ventana modal con dos pestanas:<br>
                <strong>- "Ordenes Pendientes":</strong> tabla con todas las ordenes problematicas y sus detalles.<br>
                <strong>- "Informacion de Ayuda":</strong> guia paso a paso para resolver cada tipo de problema, incluyendo referencia de codigos DIAN.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>El usuario resuelve los problemas</h4>
                <p>Desde el wizard, el usuario puede hacer clic en cada orden para abrirla y corregir el problema (facturar, reenviar a DIAN, etc.). Tambien puede abrir directamente la factura asociada para verificar su estado.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Reintento del cierre</h4>
                <p>Una vez resueltos todos los problemas, el usuario cierra el wizard y vuelve a intentar cerrar la sesion. El sistema ejecuta nuevamente todas las validaciones. Si todo es correcto, el cierre procede.</p>
            </div>
        </div>
    </div>

    <!-- 3. PARAMETROS -->
    <div class="section" id="parametros">
        <div class="section-header">
            <div class="section-icon warm">&#9881;</div>
            <h2>3. Parametros a Tener en Cuenta <small>Configuracion del modulo</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">3.1 Requisitos Previos</h3>
        <div class="highlight-box">
            <strong>&#9888; Configuracion Obligatoria</strong>
            El modulo requiere que el Punto de Venta (<code>point_of_sale</code>) y Contabilidad (<code>account</code>) esten instalados y configurados. Para la validacion DIAN, el modulo de facturacion electronica colombiana debe estar instalado y correctamente configurado con los certificados digitales correspondientes.
        </div>

        <div class="table-responsive">
            <table>
                <thead><tr><th>Requisito</th><th>Donde Configurar</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Punto de Venta activo</strong></td><td>Punto de Venta &gt; Configuracion</td><td>Al menos una sesion POS debe estar configurada y operativa</td></tr>
                    <tr><td><strong>Contabilidad configurada</strong></td><td>Contabilidad &gt; Ajustes</td><td>Diarios contables y plan de cuentas deben estar definidos</td></tr>
                    <tr><td><strong>Facturacion en POS</strong></td><td>POS &gt; Configuracion &gt; Facturacion</td><td>Las ordenes del POS deben generar facturas (configurar segun flujo del negocio)</td></tr>
                    <tr><td><strong>Facturacion Electronica</strong></td><td>Contabilidad &gt; Ajustes &gt; DIAN</td><td>Opcional. Certificados digitales y resolucion DIAN configurados para validacion electronica</td></tr>
                    <tr><td><strong>Permisos de usuario</strong></td><td>Ajustes &gt; Usuarios</td><td>Asignar roles de POS y, si es necesario, el permiso de bypass de validacion</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.2 Codigos de Estado DIAN</h3>
        <p>El modulo evalua los codigos de estado retornados por la DIAN para cada factura electronica. Solo dos codigos permiten el cierre:</p>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Codigo</th><th>Descripcion DIAN</th><th>Resultado</th><th>Accion Requerida</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>00</strong></td>
                        <td>Procesado Correctamente</td>
                        <td><span class="badge badge-success">APROBADO</span></td>
                        <td>Ninguna. La factura fue aceptada por la DIAN exitosamente.</td>
                    </tr>
                    <tr>
                        <td><strong>66</strong></td>
                        <td>NSU no encontrado</td>
                        <td><span class="badge badge-success">APROBADO</span></td>
                        <td>Ninguna. Este codigo se considera valido y no bloquea el cierre.</td>
                    </tr>
                    <tr>
                        <td><strong>90</strong></td>
                        <td>TrackId no encontrado en DIAN</td>
                        <td><span class="badge badge-danger">RECHAZADO</span></td>
                        <td>Reenviar la factura a la DIAN. El documento no fue localizado en el sistema DIAN.</td>
                    </tr>
                    <tr>
                        <td><strong>99</strong></td>
                        <td>Errores en campos mandatorios</td>
                        <td><span class="badge badge-danger">RECHAZADO</span></td>
                        <td>Corregir los datos de la factura y reenviar. Verificar campos obligatorios (NIT, direccion, etc.).</td>
                    </tr>
                    <tr>
                        <td><em>Otro</em></td>
                        <td>Cualquier otro codigo</td>
                        <td><span class="badge badge-danger">RECHAZADO</span></td>
                        <td>Revisar el estado especifico en la consola DIAN y tomar la accion correctiva correspondiente.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.3 Ordenes Excluidas de Validacion</h3>
        <div class="highlight-box info">
            <strong>&#9432; Exclusiones Automaticas</strong>
            El modulo excluye automaticamente ciertos tipos de ordenes de la validacion para evitar bloqueos innecesarios. Estas ordenes nunca impediran el cierre de la sesion.
        </div>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Tipo de Orden</th><th>Criterio de Deteccion</th><th>Motivo de Exclusion</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>Ordenes con monto cero</strong></td>
                        <td><code>amount_total == 0</code></td>
                        <td>No generan impacto contable ni fiscal, no requieren factura</td>
                    </tr>
                    <tr>
                        <td><strong>Reembolsos (campo is_refunded)</strong></td>
                        <td><code>order.is_refunded == True</code></td>
                        <td>Los reembolsos tienen su propio tratamiento contable</td>
                    </tr>
                    <tr>
                        <td><strong>Reembolsos (monto negativo)</strong></td>
                        <td><code>amount_total &lt; 0</code></td>
                        <td>Montos negativos indican devolucion/reembolso</td>
                    </tr>
                    <tr>
                        <td><strong>Reembolsos (relacion)</strong></td>
                        <td><code>refund_order_id</code> tiene valor</td>
                        <td>Orden vinculada a otra como reembolso</td>
                    </tr>
                    <tr>
                        <td><strong>Reembolsos (lineas negativas)</strong></td>
                        <td>Todas las lineas con <code>qty &lt; 0</code></td>
                        <td>Todas las cantidades son negativas = reembolso completo</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.4 Grupos de Seguridad</h3>
        <div class="group-card">
            <div class="group-icon user">&#128100;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Usuario POS (Estandar)</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;">Puede operar la caja del POS normalmente. Al intentar cerrar la sesion, <strong>debe cumplir todas las validaciones</strong>: facturacion completa y aprobacion DIAN. Puede ver el wizard de advertencia y consultar el reporte de ordenes pendientes (solo lectura).</p>
            </div>
        </div>
        <div class="group-card">
            <div class="group-icon manager">&#128188;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Gerente POS (Estandar)</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;">Mismos permisos que el usuario POS respecto a las validaciones de cierre. Puede consultar el reporte de ordenes pendientes. <strong>Tambien debe cumplir las validaciones</strong> a menos que tenga asignado el grupo de bypass.</p>
            </div>
        </div>
        <div class="group-card">
            <div class="group-icon admin">&#128272;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">POS: Bypass de Validaciones de Cierre</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;"><strong>Grupo especial de emergencia.</strong> Permite cerrar la sesion POS sin pasar por ninguna validacion. Debe asignarse unicamente a administradores de confianza y usarse solo en situaciones excepcionales. Se configura en <strong>Ajustes &gt; Usuarios &gt; Pestana Punto de Venta</strong>.</p>
            </div>
        </div>

        <div class="highlight-box danger">
            <strong>&#9888; Advertencia sobre el Bypass</strong>
            El grupo de bypass debe asignarse con extrema precaucion. Un uso indebido puede resultar en el cierre de sesiones con facturas sin procesar ante la DIAN, generando riesgos de incumplimiento fiscal. Se recomienda mantener un registro de cuando y por que se utiliza esta opcion.
        </div>
    </div>

    <!-- 4. GUIA PASO A PASO -->
    <div class="section" id="guia-paso-a-paso">
        <div class="section-header">
            <div class="section-icon sage">&#128221;</div>
            <h2>4. Guia Paso a Paso <small>Instalacion, configuracion y operacion</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">Paso 1: Instalar el Modulo</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Instalar el modulo desde Aplicaciones</h4>
                <p>Ir a <strong>Aplicaciones</strong>, buscar <strong>"Restriccion de Cierre de Caja Coondev"</strong> o <strong>"coondev_pos_session_close_restriction"</strong> e instalar. Las dependencias (<code>point_of_sale</code> y <code>account</code>) deben estar previamente instaladas. El modulo no requiere configuracion adicional post-instalacion: funciona inmediatamente.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 2: Configurar Permisos de Usuario</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Verificar roles de usuarios POS</h4>
                <p>Ir a <strong>Ajustes &gt; Usuarios &amp; Companias &gt; Usuarios</strong>. Verificar que cada usuario que opera una caja POS tenga asignado el rol de <strong>Usuario POS</strong> o <strong>Gerente POS</strong>. Todos los usuarios POS estaran sujetos a las validaciones de cierre por defecto.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Asignar permiso de bypass (opcional)</h4>
                <p>Solo si es necesario, asignar el grupo <strong>"POS: Bypass de Validaciones de Cierre"</strong> a usuarios administradores de confianza. Ir al usuario, pestana de permisos, y activar el grupo. <strong>Se recomienda limitar este permiso al minimo de personas posible.</strong></p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 3: Verificar Configuracion de Facturacion POS</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Configurar facturacion en el POS</h4>
                <p>Ir a <strong>Punto de Venta &gt; Configuracion &gt; Punto de Venta</strong>. Asegurar que la configuracion de facturacion este activa para que las ordenes generen facturas. Esto es esencial para que el modulo pueda validar las facturas al cerrar.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Verificar configuracion DIAN (si aplica)</h4>
                <p>Si se utiliza facturacion electronica, verificar en <strong>Contabilidad &gt; Ajustes</strong> que los certificados digitales, la resolucion DIAN y los parametros de conexion esten correctamente configurados. Las facturas deben poder enviarse automaticamente a la DIAN.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 4: Operacion Normal - Cierre de Caja</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Finalizar la jornada de ventas</h4>
                <p>El cajero completa todas las transacciones del dia en el Punto de Venta. Cada venta genera una orden POS que debe estar facturada y, si aplica, procesada por la DIAN.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Solicitar cierre de sesion</h4>
                <p>El usuario hace clic en <strong>"Cerrar"</strong> desde la interfaz del POS o desde <strong>Punto de Venta &gt; Sesiones &gt; [Sesion] &gt; Cerrar</strong> en el backend. El modulo intercepta automaticamente esta accion.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Validacion automatica</h4>
                <p>El sistema ejecuta todas las validaciones. Si todo es correcto, el cierre procede normalmente sin interrupcion para el usuario. <strong>El cajero no nota ninguna diferencia respecto al flujo estandar si todo esta en orden.</strong></p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 5: Resolver Ordenes con Problemas</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Revisar el wizard de advertencia</h4>
                <p>Si el cierre es bloqueado, aparece un wizard con la lista de ordenes problematicas. Revisar la columna <strong>"Problema"</strong> para identificar el motivo: orden no facturada, factura en borrador, factura no enviada a DIAN o DIAN con error.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Corregir ordenes no facturadas</h4>
                <p>Hacer clic en la orden desde el wizard para abrirla. Generar la factura correspondiente desde la orden POS y asegurarse de que quede en estado <strong>"Publicado"</strong>.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Corregir problemas de DIAN</h4>
                <p>Si la factura no fue enviada a la DIAN: abrir la factura y ejecutar el envio. Si el estado DIAN es un error (90 o 99): corregir los datos de la factura segun el error reportado y reenviar a la DIAN. Verificar que el codigo resultante sea <strong>00</strong> o <strong>66</strong>.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Reintentar el cierre</h4>
                <p>Cerrar el wizard de advertencia y volver a hacer clic en <strong>"Cerrar"</strong>. El sistema ejecuta nuevamente todas las validaciones. Si todos los problemas fueron resueltos, el cierre procede exitosamente.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 6: Consultar Ordenes Pendientes (Reporte)</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Acceder al reporte</h4>
                <p>Ir a <strong>Punto de Venta &gt; Ordenes Pendientes</strong> en el menu principal. Se abrira la vista de lista con todas las ordenes que tienen problemas de facturacion o DIAN.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Filtrar y agrupar</h4>
                <p>Utilizar los filtros predefinidos: <strong>"No Facturadas"</strong>, <strong>"Facturadas sin DIAN"</strong> o <strong>"Con Error DIAN"</strong>. Agrupar por sesion, cliente, estado o fecha para organizar la revision. Los filtros de fecha (Hoy, Esta Semana, Este Mes) ayudan a acotar el periodo.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Tomar accion desde el reporte</h4>
                <p>Hacer clic en cualquier registro para ver el detalle. Desde la vista de formulario se puede abrir directamente la orden POS o la factura asociada para realizar las correcciones necesarias. Usar el boton <strong>"Actualizar"</strong> para refrescar los datos.</p>
            </div>
        </div>
    </div>

    <!-- 5. ESTADOS -->
    <div class="section" id="estados">
        <div class="section-header">
            <div class="section-icon plum">&#128203;</div>
            <h2>5. Estados del Proceso <small>Ciclo de vida y transiciones</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">5.1 Estados de la Sesion POS (Ciclo de Cierre)</h3>
        <div class="status-flow">
            <div class="status-node open">Abierta<br><small>Operacion normal</small></div>
            <div class="status-arrow">&#10230;</div>
            <div class="status-node closing">Control de Cierre<br><small>Conteo de caja</small></div>
            <div class="status-arrow">&#10230;</div>
            <div class="status-node validating">Validacion<br><small>Modulo actua aqui</small></div>
            <div class="status-arrow">&#10230;</div>
            <div class="status-node closed">Cerrada<br><small>Sesion finalizada</small></div>
        </div>

        <div class="highlight-box info">
            <strong>&#9432; Punto de Intercepcion</strong>
            El modulo actua en la transicion entre "Control de Cierre" y "Cerrada". Cuando el usuario solicita cerrar, el modulo intercepta la llamada al metodo <code>action_pos_session_closing_control()</code> y ejecuta las validaciones. Si no pasan, la sesion permanece en estado de cierre hasta que se resuelvan los problemas.
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.2 Estados de Validacion por Orden</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Estado</th><th>Indicador</th><th>Condicion</th><th>Bloquea Cierre?</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>Excluida</strong></td>
                        <td><span class="badge badge-info">Excluida</span></td>
                        <td>Monto $0 o Reembolso</td>
                        <td>No</td>
                        <td>La orden es omitida de la validacion. No se evalua facturacion ni DIAN.</td>
                    </tr>
                    <tr>
                        <td><strong>Sin Factura</strong></td>
                        <td><span class="badge badge-danger">Sin Factura</span></td>
                        <td>No tiene factura asociada</td>
                        <td><strong>Si</strong></td>
                        <td>La orden no fue facturada. Se debe generar la factura correspondiente.</td>
                    </tr>
                    <tr>
                        <td><strong>Factura en Borrador</strong></td>
                        <td><span class="badge badge-warning">Borrador</span></td>
                        <td>Factura en estado draft</td>
                        <td><strong>Si</strong></td>
                        <td>La factura existe pero no ha sido validada/publicada. Se debe publicar.</td>
                    </tr>
                    <tr>
                        <td><strong>Sin Enviar a DIAN</strong></td>
                        <td><span class="badge badge-danger">Sin DIAN</span></td>
                        <td>No existe documento DIAN</td>
                        <td><strong>Si</strong></td>
                        <td>La factura esta publicada pero no fue enviada a la DIAN. Se debe enviar.</td>
                    </tr>
                    <tr>
                        <td><strong>Error DIAN</strong></td>
                        <td><span class="badge badge-danger">Error DIAN</span></td>
                        <td>Codigo DIAN diferente de 00 y 66</td>
                        <td><strong>Si</strong></td>
                        <td>La DIAN rechazo la factura. Se debe corregir el error y reenviar.</td>
                    </tr>
                    <tr>
                        <td><strong>Valida</strong></td>
                        <td><span class="badge badge-success">Valida</span></td>
                        <td>Facturada + Posted + DIAN OK</td>
                        <td>No</td>
                        <td>La orden cumple todas las validaciones. No impide el cierre de caja.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.3 Estados de Factura Relevantes</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Estado Factura</th><th>Resultado Validacion</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>Borrador (draft)</strong></td>
                        <td><span class="badge badge-danger">FALLA</span></td>
                        <td>La factura fue creada pero no ha sido validada. Se debe publicar.</td>
                    </tr>
                    <tr>
                        <td><strong>Publicado (posted)</strong></td>
                        <td><span class="badge badge-success">PASA</span></td>
                        <td>La factura esta validada y contabilizada. Estado correcto para cerrar.</td>
                    </tr>
                    <tr>
                        <td><strong>Cancelado (cancel)</strong></td>
                        <td><span class="badge badge-danger">FALLA</span></td>
                        <td>La factura fue cancelada. Se debe generar una nueva factura.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.4 Mensajes de Error por Estado</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Escenario</th><th>Mensaje Mostrado</th></tr></thead>
                <tbody>
                    <tr><td>Orden sin factura</td><td><em>"Orden no facturada"</em></td></tr>
                    <tr><td>Factura en borrador</td><td><em>"Factura en estado draft (debe estar en Validado/Posted)"</em></td></tr>
                    <tr><td>Factura cancelada</td><td><em>"Factura en estado cancel (debe estar en Validado/Posted)"</em></td></tr>
                    <tr><td>Factura no enviada a DIAN</td><td><em>"Factura no enviada a DIAN"</em></td></tr>
                    <tr><td>DIAN codigo 90</td><td><em>"TrackId no encontrado en DIAN"</em></td></tr>
                    <tr><td>DIAN codigo 99</td><td><em>"Errores en campos mandatorios DIAN"</em></td></tr>
                    <tr><td>DIAN otro codigo</td><td><em>"Estado DIAN: [codigo]"</em></td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 6. TRAZABILIDAD -->
    <div class="section" id="trazabilidad">
        <div class="section-header">
            <div class="section-icon sage">&#128269;</div>
            <h2>6. Trazabilidad <small>Seguimiento completo de operaciones</small></h2>
        </div>

        <p>El modulo proporciona trazabilidad completa del proceso de validacion de cierre de caja, permitiendo identificar rapidamente que ordenes presentan problemas y por que motivo.</p>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.1 Vinculacion Orden - Factura - DIAN</h3>
        <div class="highlight-box success">
            <strong>Cadena de Trazabilidad Completa</strong>
            El modulo mantiene la cadena de trazabilidad: <strong>Sesion POS &rarr; Orden POS &rarr; Factura (account.move) &rarr; Documento DIAN</strong>. Desde cualquier punto de esta cadena se puede navegar al siguiente para verificar el estado completo de cada transaccion.
        </div>

        <div class="flow-horizontal">
            <div class="flow-box pos">Sesion POS<small>Contiene las ordenes</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box process">Orden POS<small>Cada venta individual</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box validate">Factura<small>account.move (posted)</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box dian">Documento DIAN<small>Codigo 00 o 66</small></div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.2 Puntos de Trazabilidad</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Punto de Control</th><th>Que Se Registra</th><th>Donde Consultarlo</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>Sesion POS</strong></td>
                        <td>Lista de todas las ordenes de la sesion, estado de la sesion, usuario responsable</td>
                        <td>Punto de Venta &gt; Sesiones &gt; [Sesion]</td>
                    </tr>
                    <tr>
                        <td><strong>Orden POS</strong></td>
                        <td>Detalle de la venta, cliente, monto, estado de facturacion, factura asociada</td>
                        <td>Punto de Venta &gt; Ordenes &gt; [Orden]</td>
                    </tr>
                    <tr>
                        <td><strong>Factura</strong></td>
                        <td>Estado de la factura (borrador/publicada/cancelada), diario contable, montos</td>
                        <td>Contabilidad &gt; Facturas &gt; [Factura]</td>
                    </tr>
                    <tr>
                        <td><strong>Documento DIAN</strong></td>
                        <td>Codigo de estado DIAN, fecha de envio, respuesta del servicio, CUFE/CUDE</td>
                        <td>Desde la factura &gt; Documento DIAN asociado</td>
                    </tr>
                    <tr>
                        <td><strong>Wizard de Advertencia</strong></td>
                        <td>Registro temporal de ordenes que bloquearon el cierre con motivos especificos</td>
                        <td>Se muestra automaticamente al intentar cerrar con errores</td>
                    </tr>
                    <tr>
                        <td><strong>Reporte Ordenes Pendientes</strong></td>
                        <td>Consolidado de todas las ordenes con problemas en sesiones activas o recientes</td>
                        <td>Punto de Venta &gt; Ordenes Pendientes</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.3 Busqueda de Factura - Metodos de Vinculacion</h3>
        <p>El modulo utiliza multiples estrategias para localizar la factura asociada a una orden POS, garantizando compatibilidad con diferentes versiones y configuraciones de Odoo:</p>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Prioridad</th><th>Metodo</th><th>Campo</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr>
                        <td>1 (Principal)</td>
                        <td>Campo directo</td>
                        <td><code>order.account_move</code></td>
                        <td>Campo estandar de Odoo 13+ para vincular orden POS con factura</td>
                    </tr>
                    <tr>
                        <td>2 (Alternativo)</td>
                        <td>Campo legacy</td>
                        <td><code>order.invoice_id</code></td>
                        <td>Campo de versiones anteriores de Odoo, mantenido por compatibilidad</td>
                    </tr>
                    <tr>
                        <td>3 (Busqueda)</td>
                        <td>Relacion inversa</td>
                        <td><code>account.move.pos_order_ids</code></td>
                        <td>Busqueda en facturas que referencian a la orden POS</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.4 Navegacion entre Registros</h3>
        <p>Desde el wizard de advertencia y desde el reporte de ordenes pendientes, el usuario puede navegar directamente a:</p>
        <div class="feature-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
            <div class="feature-card">
                <div class="icon">&#128196;</div>
                <h4>Orden POS</h4>
                <p>Boton "Ver Orden" abre la orden POS en una nueva ventana para revisar detalles de la venta</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128203;</div>
                <h4>Factura</h4>
                <p>Boton "Ver Factura" abre la factura asociada para verificar estado y datos contables</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128202;</div>
                <h4>Documento DIAN</h4>
                <p>Desde la factura se puede acceder al documento DIAN para verificar estado de procesamiento</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.5 Alcance Temporal del Reporte</h3>
        <div class="highlight-box">
            <strong>&#9432; Rango de Datos en el Reporte</strong>
            El reporte de ordenes pendientes consulta primero las sesiones en estado activo (abiertas, en apertura o en control de cierre). Si no encuentra sesiones activas, consulta automaticamente las sesiones de los <strong>ultimos 30 dias</strong> como periodo de respaldo. Esto garantiza visibilidad de problemas recientes incluso si todas las sesiones estan cerradas.
        </div>
    </div>

    <!-- 7. REPORTES -->
    <div class="section" id="reportes">
        <div class="section-header">
            <div class="section-icon warm">&#128202;</div>
            <h2>7. Detalle de Reportes <small>Vistas y consultas disponibles</small></h2>
        </div>

        <h3 style="margin: 0 0 15px; color: var(--secondary);">7.1 Reporte: Ordenes POS Pendientes</h3>
        <div class="highlight-box info">
            <strong>&#9432; Acceso al Reporte</strong>
            Menu: <strong>Punto de Venta &gt; Ordenes Pendientes</strong>. Este reporte muestra en tiempo real todas las ordenes POS que tienen problemas de facturacion o procesamiento DIAN, permitiendo una gestion proactiva antes de intentar cerrar la sesion.
        </div>

        <h4 style="margin: 20px 0 10px; color: var(--gray-700);">Columnas de la Vista de Lista</h4>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Columna</th><th>Descripcion</th><th>Notas</th></tr></thead>
                <tbody>
                    <tr><td><strong>Numero de Orden</strong></td><td>Referencia unica de la orden POS (ej: POS/2026/0001)</td><td>Clickeable para abrir detalle</td></tr>
                    <tr><td><strong>Sesion</strong></td><td>Sesion POS a la que pertenece la orden</td><td>Agrupable</td></tr>
                    <tr><td><strong>Cliente</strong></td><td>Nombre del cliente asociado a la orden</td><td>Agrupable y buscable</td></tr>
                    <tr><td><strong>Fecha</strong></td><td>Fecha y hora de la orden</td><td>Agrupable por dia</td></tr>
                    <tr><td><strong>Total</strong></td><td>Monto total de la orden</td><td>Incluye suma al pie</td></tr>
                    <tr><td><strong>Estado</strong></td><td>Estado de la orden (Pagado, Hecho, Facturado)</td><td>Agrupable</td></tr>
                    <tr><td><strong>Facturada</strong></td><td>Indica si la orden tiene factura asociada (Si/No)</td><td>Filtrable</td></tr>
                    <tr><td><strong>Factura</strong></td><td>Referencia de la factura (si existe)</td><td>Columna opcional</td></tr>
                    <tr><td><strong>Estado DIAN</strong></td><td>Estado del documento DIAN (Aprobado, Error, Sin enviar)</td><td>Filtrable</td></tr>
                    <tr><td><strong>Problema</strong></td><td>Descripcion del motivo del bloqueo</td><td>Ultima columna, resaltada</td></tr>
                </tbody>
            </table>
        </div>

        <h4 style="margin: 25px 0 10px; color: var(--gray-700);">Filtros Predefinidos</h4>
        <div class="feature-grid" style="grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));">
            <div class="feature-card">
                <div class="icon">&#128196;</div>
                <h4>No Facturadas</h4>
                <p>Muestra solo ordenes que no tienen factura asociada. Filtro mas critico: estas ordenes no tienen documento contable.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128220;</div>
                <h4>Facturadas sin DIAN</h4>
                <p>Ordenes con factura publicada pero sin documento DIAN. La factura existe pero no fue enviada a la autoridad tributaria.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#9888;</div>
                <h4>Con Error DIAN</h4>
                <p>Ordenes cuya factura fue enviada a la DIAN pero fue rechazada o tiene un codigo de error. Requieren correccion y reenvio.</p>
            </div>
        </div>

        <h4 style="margin: 25px 0 10px; color: var(--gray-700);">Filtros de Fecha</h4>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Filtro</th><th>Rango</th></tr></thead>
                <tbody>
                    <tr><td><strong>Hoy</strong></td><td>Solo ordenes del dia actual</td></tr>
                    <tr><td><strong>Esta Semana</strong></td><td>Ordenes de la semana en curso</td></tr>
                    <tr><td><strong>Este Mes</strong></td><td>Ordenes del mes en curso</td></tr>
                </tbody>
            </table>
        </div>

        <h4 style="margin: 25px 0 10px; color: var(--gray-700);">Opciones de Agrupacion</h4>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Agrupar Por</th><th>Utilidad</th></tr></thead>
                <tbody>
                    <tr><td><strong>Sesion</strong></td><td>Ver ordenes pendientes organizadas por caja/sesion POS</td></tr>
                    <tr><td><strong>Cliente</strong></td><td>Identificar clientes con multiples ordenes problematicas</td></tr>
                    <tr><td><strong>Estado</strong></td><td>Separar ordenes por estado (pagado, hecho, facturado)</td></tr>
                    <tr><td><strong>Fecha</strong></td><td>Organizar por dia para priorizar las mas antiguas</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">7.2 Wizard de Advertencia (Detalle al Cerrar)</h3>
        <div class="feature-grid" style="grid-template-columns: 1fr 1fr;">
            <div class="feature-card">
                <h4>Pestana: Ordenes Pendientes</h4>
                <p>Tabla con las ordenes que bloquean el cierre de la sesion actual. Muestra: numero de orden, cliente, fecha, monto, estado de facturacion, estado DIAN y motivo del problema. Permite hacer clic para abrir cada orden o factura.</p>
            </div>
            <div class="feature-card">
                <h4>Pestana: Informacion de Ayuda</h4>
                <p>Guia integrada con instrucciones paso a paso para resolver cada tipo de problema. Incluye referencia de codigos DIAN (00, 66, 90, 99) con explicacion y accion requerida para cada uno.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">7.3 Vista de Detalle de Orden Pendiente</h3>
        <p>Al hacer clic en un registro del reporte, se abre una vista de formulario con:</p>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Seccion</th><th>Contenido</th></tr></thead>
                <tbody>
                    <tr><td><strong>Botones de Accion</strong></td><td>"Ver Orden" para abrir la orden POS, "Ver Factura" para abrir la factura (si existe)</td></tr>
                    <tr><td><strong>Alerta de Problema</strong></td><td>Banner destacado mostrando el motivo especifico del bloqueo</td></tr>
                    <tr><td><strong>Informacion de Orden</strong></td><td>Numero, sesion, cliente, fecha, estado de la orden</td></tr>
                    <tr><td><strong>Informacion de Facturacion</strong></td><td>Monto total, estado de facturacion, referencia de factura, estado DIAN</td></tr>
                    <tr><td><strong>Acciones Sugeridas</strong></td><td>Pasos de resolucion contextuales segun el tipo de problema detectado</td></tr>
                </tbody>
            </table>
        </div>

        <div class="highlight-box">
            <strong>&#9432; Nota sobre Reportes Impresos</strong>
            El modulo no incluye reportes impresos (PDF) dedicados. Toda la informacion se presenta en vistas integradas del sistema: el wizard de advertencia al momento del cierre y el reporte de consulta en el menu del POS. Los datos pueden exportarse a Excel o CSV desde la vista de lista utilizando la funcionalidad estandar de exportacion de Odoo.
        </div>
    </div>

    <!-- 8. FAQ -->
    <div class="section" id="faq">
        <div class="section-header">
            <div class="section-icon mauve">&#10067;</div>
            <h2>8. Preguntas y Respuestas <small>Preguntas frecuentes del modulo</small></h2>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que pasa cuando intento cerrar la caja y hay ordenes sin facturar?</div>
            <div class="faq-answer">El sistema <strong>bloquea el cierre</strong> y muestra un wizard de advertencia con la lista de ordenes que no tienen factura asociada. Cada orden aparece con el motivo "Orden no facturada". Debe facturar todas las ordenes pendientes antes de poder cerrar la sesion. El cierre no se completara hasta que todas las ordenes tengan factura en estado "Publicado".</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que significan los codigos de estado DIAN 00 y 66?</div>
            <div class="faq-answer">El codigo <strong>00</strong> significa "Procesado Correctamente": la factura fue aceptada exitosamente por la DIAN. El codigo <strong>66</strong> significa "NSU no encontrado": aunque suena como un error, este codigo es considerado <strong>valido</strong> por el modulo y no bloquea el cierre. Ambos codigos (00 y 66) permiten cerrar la sesion sin problemas.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que hago si la DIAN devuelve el codigo 90 (TrackId no encontrado)?</div>
            <div class="faq-answer">El codigo 90 indica que el documento no fue localizado en el sistema de la DIAN. Debe <strong>reenviar la factura a la DIAN</strong>. Abra la factura desde el wizard o desde el reporte de ordenes pendientes, y ejecute nuevamente el envio a la DIAN. Si el problema persiste, verifique la conexion con el servicio DIAN y los parametros de configuracion.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que hago si la DIAN devuelve el codigo 99 (Errores en campos mandatorios)?</div>
            <div class="faq-answer">El codigo 99 indica que la factura tiene <strong>errores en campos obligatorios</strong>. Debe revisar los datos de la factura: NIT del cliente, direccion, descripcion de productos, montos y otros campos requeridos por la DIAN. Corrija los datos, asegurese de que la factura este en estado "Publicado" y reenvie a la DIAN.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Las ordenes de reembolso o devoluciones bloquean el cierre?</div>
            <div class="faq-answer"><strong>No.</strong> El modulo detecta automaticamente las ordenes de reembolso y las excluye de la validacion. Se consideran reembolsos: ordenes con el campo <code>is_refunded</code> activo, ordenes con monto total negativo, ordenes vinculadas a otra orden como reembolso, y ordenes donde todas las lineas tienen cantidades negativas. Ninguna de estas impide el cierre.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Las ordenes con monto cero ($0) bloquean el cierre?</div>
            <div class="faq-answer"><strong>No.</strong> Las ordenes con monto total igual a cero son excluidas automaticamente de la validacion. Estas ordenes no generan impacto contable ni fiscal, por lo que no requieren factura ni validacion DIAN.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Existe alguna forma de cerrar la sesion sin pasar las validaciones?</div>
            <div class="faq-answer"><strong>Si, pero solo para usuarios autorizados.</strong> Existe el grupo de seguridad <strong>"POS: Bypass de Validaciones de Cierre"</strong> que permite cerrar la sesion sin ninguna validacion. Este permiso debe asignarse unicamente a administradores de confianza y usarse solo en situaciones de emergencia. Se configura en Ajustes &gt; Usuarios.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que pasa si no tengo el modulo de facturacion electronica (DIAN) instalado?</div>
            <div class="faq-answer">El modulo detecta automaticamente si <code>l10n_co_e_invoicing</code> esta instalado. Si <strong>no esta instalado</strong>, la validacion DIAN se omite completamente. Solo se validara que las ordenes esten facturadas y que las facturas esten en estado "Publicado". Esto permite usar el modulo en entornos que no requieren facturacion electronica colombiana.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Donde puedo consultar las ordenes pendientes sin intentar cerrar la sesion?</div>
            <div class="faq-answer">En el menu <strong>Punto de Venta &gt; Ordenes Pendientes</strong>. Este reporte muestra todas las ordenes con problemas de facturacion o DIAN de las sesiones activas (o de los ultimos 30 dias si no hay sesiones abiertas). Puede filtrar por tipo de problema, fecha, sesion o cliente. Es recomendable revisar este reporte <strong>antes</strong> de intentar cerrar la caja.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>El modulo modifica el flujo normal del POS para el cajero?</div>
            <div class="faq-answer"><strong>No, si todo esta en orden.</strong> Si todas las ordenes estan correctamente facturadas y procesadas por la DIAN, el cierre de sesion funciona exactamente igual que el flujo estandar de Odoo. El modulo solo interviene (mostrando el wizard de advertencia) cuando detecta ordenes que no cumplen las validaciones.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Puedo ver desde el wizard cual es el problema especifico de cada orden?</div>
            <div class="faq-answer"><strong>Si.</strong> El wizard de advertencia muestra una tabla donde la ultima columna ("Problema") indica el motivo exacto del bloqueo para cada orden: "Orden no facturada", "Factura en estado borrador", "Factura no enviada a DIAN", "TrackId no encontrado en DIAN", etc. Ademas, la pestana "Informacion de Ayuda" del wizard explica como resolver cada tipo de problema.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Puedo abrir la orden o factura directamente desde el wizard?</div>
            <div class="faq-answer"><strong>Si.</strong> Desde el wizard de advertencia, puede hacer clic en cada linea para abrir la orden POS en una nueva ventana. Si la orden tiene factura asociada, tambien puede abrir la factura directamente. Esto facilita la correccion rapida de problemas sin necesidad de navegar manualmente por los menus.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>El modulo requiere configuracion adicional despues de la instalacion?</div>
            <div class="faq-answer"><strong>No.</strong> El modulo funciona inmediatamente despues de la instalacion sin necesidad de configuracion adicional. Las unicas acciones opcionales son: asignar el grupo de bypass a usuarios administradores (si se desea) y verificar que la configuracion de facturacion del POS y DIAN ya esten correctas (esto es un requisito previo del entorno, no del modulo).</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que pasa si cierro el wizard de advertencia sin resolver los problemas?</div>
            <div class="faq-answer">La sesion permanece abierta. Puede continuar operando el POS normalmente (realizando ventas, etc.). Cuando vuelva a intentar cerrar la sesion, el sistema ejecutara nuevamente todas las validaciones. Si los problemas no fueron resueltos, el wizard aparecera de nuevo con la lista actualizada de ordenes pendientes.</div>
        </div>
    </div>

</div>

<!-- FOOTER -->
<div class="footer">
    <div class="company-name">COONDEV</div>
    <div class="tagline">Coonsulting &amp; Development</div>
    <div class="footer-divider"></div>
    <p>Guia Funcional - Control de Cierre de Caja POS</p>
    <p>Modulo: <strong>coondev_pos_session_close_restriction</strong> | Odoo 18 Enterprise</p>
    <p style="margin-top: 15px; font-size: 12px; opacity: 0.7;">Documento generado &bull; Febrero 2026</p>
</div>

</body>
</html>
