<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Funcional - Tarjetas Regalo Corporativas | COONDEV</title>
    <style>
        :root {
            --primary: #7B5B7B;
            --primary-dark: #5E3F5E;
            --primary-light: #9B7B9B;
            --secondary: #4A2D4A;
            --accent: #C9A0C9;
            --dark: #2E1A2E;
            --gray-100: #f8f7f9;
            --gray-200: #eae7ec;
            --gray-300: #ddd8df;
            --gray-400: #c4bdc7;
            --gray-500: #9e95a1;
            --gray-600: #6c636f;
            --gray-700: #4a434d;
            --gray-800: #342e37;
            --white: #ffffff;
            --success: #5a9e6f;
            --warning: #c9a84c;
            --danger: #b5545a;
            --info: #6b8fa8;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.7; color: var(--gray-800); background: var(--gray-100); }

        .header { background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 50%, var(--primary-light) 100%); color: var(--white); position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 20px rgba(75,45,75,0.25); }
        .header-top { display: flex; align-items: center; justify-content: space-between; padding: 15px 40px; max-width: 1400px; margin: 0 auto; }
        .logo-area { display: flex; align-items: center; gap: 20px; }
        .logo-area svg { height: 48px; width: auto; }
        .header-badge { background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.3); padding: 6px 16px; border-radius: 20px; font-size: 12px; letter-spacing: 1px; }

        .hero { background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 40%, var(--primary-light) 100%); color: var(--white); padding: 60px 40px; text-align: center; position: relative; overflow: hidden; }
        .hero::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.06) 0%, transparent 60%); animation: pulse 8s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .hero-content { position: relative; z-index: 1; max-width: 900px; margin: 0 auto; }
        .hero h1 { font-size: 38px; font-weight: 800; margin-bottom: 15px; text-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .hero .version-badge { display: inline-block; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); padding: 4px 14px; border-radius: 15px; font-size: 13px; margin-bottom: 20px; }
        .hero p { font-size: 18px; opacity: 0.9; max-width: 700px; margin: 0 auto; }
        .hero-meta { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
        .hero-meta-item { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 10px; font-size: 13px; }
        .hero-meta-item strong { display: block; font-size: 11px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.7; margin-bottom: 2px; }

        .nav-bar { background: var(--white); border-bottom: 2px solid var(--gray-200); padding: 0 40px; position: sticky; top: 78px; z-index: 999; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .nav-bar ul { list-style: none; display: flex; max-width: 1400px; margin: 0 auto; overflow-x: auto; }
        .nav-bar ul li a { display: block; padding: 14px 20px; color: var(--gray-600); text-decoration: none; font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 3px solid transparent; transition: all 0.3s; white-space: nowrap; }
        .nav-bar ul li a:hover { color: var(--primary); border-bottom-color: var(--primary); background: rgba(123,91,123,0.06); }

        .main-content { max-width: 1200px; margin: 0 auto; padding: 40px; }
        .section { background: var(--white); border-radius: 16px; padding: 40px; margin-bottom: 30px; box-shadow: 0 2px 20px rgba(75,45,75,0.06); border: 1px solid var(--gray-200); }
        .section-header { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid var(--gray-200); }
        .section-icon { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0; }
        .section-icon.mauve { background: linear-gradient(135deg, var(--primary-light), var(--primary)); color: white; }
        .section-icon.deep { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; }
        .section-icon.warm { background: linear-gradient(135deg, #c9a84c, #b8943e); color: white; }
        .section-icon.plum { background: linear-gradient(135deg, #8e6b8e, #6b3f6b); color: white; }
        .section-icon.sage { background: linear-gradient(135deg, #7ba88e, #5a9e6f); color: white; }
        .section-icon.soft { background: linear-gradient(135deg, var(--accent), var(--primary-light)); color: white; }
        .section-header h2 { font-size: 24px; color: var(--secondary); font-weight: 700; }
        .section-header h2 small { display: block; font-size: 12px; color: var(--gray-500); font-weight: 400; text-transform: uppercase; letter-spacing: 2px; margin-top: 4px; }
        .section p { margin-bottom: 15px; color: var(--gray-700); }

        .highlight-box { background: linear-gradient(135deg, #f5eef5, #faf5fa); border-left: 4px solid var(--primary); padding: 15px 20px; border-radius: 0 10px 10px 0; margin: 20px 0; }
        .highlight-box.info { background: linear-gradient(135deg, #eee8f0, #f5eff7); border-left-color: var(--info); }
        .highlight-box.success { background: linear-gradient(135deg, #e8f0eb, #eff5f1); border-left-color: var(--success); }
        .highlight-box.danger { background: linear-gradient(135deg, #f0e8e9, #f7eff0); border-left-color: var(--danger); }
        .highlight-box strong { display: block; margin-bottom: 5px; color: var(--gray-800); }

        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .feature-card { background: var(--gray-100); border: 1px solid var(--gray-200); border-radius: 12px; padding: 25px; transition: all 0.3s; }
        .feature-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(75,45,75,0.12); border-color: var(--primary); }
        .feature-card .icon { font-size: 28px; margin-bottom: 12px; }
        .feature-card h4 { color: var(--secondary); margin-bottom: 8px; font-size: 16px; }
        .feature-card p { font-size: 13px; color: var(--gray-600); margin-bottom: 0; }

        .vflow { position: relative; padding-left: 60px; margin: 30px 0; }
        .vflow::before { content: ''; position: absolute; left: 28px; top: 0; bottom: 0; width: 3px; background: linear-gradient(to bottom, var(--primary), var(--secondary), var(--accent)); border-radius: 2px; }
        .vflow-step { position: relative; margin-bottom: 25px; padding: 20px; background: var(--gray-100); border-radius: 12px; border: 1px solid var(--gray-200); }
        .vflow-step::before { content: attr(data-step); position: absolute; left: -48px; top: 20px; width: 36px; height: 36px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 14px; box-shadow: 0 3px 10px rgba(123,91,123,0.35); z-index: 2; }
        .vflow-step h4 { color: var(--secondary); margin-bottom: 8px; font-size: 16px; }
        .vflow-step p { font-size: 14px; color: var(--gray-600); margin-bottom: 0; }

        .table-responsive { overflow-x: auto; margin: 20px 0; }
        table { width: 100%; border-collapse: collapse; font-size: 14px; }
        table thead th { background: var(--secondary); color: var(--white); padding: 12px 16px; text-align: left; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
        table thead th:first-child { border-radius: 10px 0 0 0; }
        table thead th:last-child { border-radius: 0 10px 0 0; }
        table tbody td { padding: 12px 16px; border-bottom: 1px solid var(--gray-200); }
        table tbody tr:hover { background: var(--gray-100); }
        table tbody tr:last-child td:first-child { border-radius: 0 0 0 10px; }
        table tbody tr:last-child td:last-child { border-radius: 0 0 10px 0; }

        .badge { display: inline-block; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .badge-complete { background: #dce8e0; color: #2a5a3a; }
        .badge-partial { background: #f0e8d4; color: #7a6530; }
        .badge-pending { background: #f0dfe0; color: #7a3035; }
        .badge-info { background: #dce8ef; color: #3a5f75; }
        .badge-locked { background: #f0e8d4; color: #7a6530; }
        .badge-ic { background: #e5dae5; color: #5E3F5E; }

        .eco-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 25px 0; }
        .eco-card { border: 2px solid var(--gray-300); border-radius: 16px; padding: 25px; text-align: center; transition: all 0.3s; }
        .eco-card:hover { border-color: var(--primary); box-shadow: 0 8px 25px rgba(75,45,75,0.12); }
        .eco-card h4 { color: var(--secondary); margin-bottom: 8px; font-size: 15px; }
        .eco-card .eco-icon { font-size: 36px; margin-bottom: 12px; }
        .eco-card p { font-size: 12px; color: var(--gray-600); margin-bottom: 0; }
        .eco-card.price { border-color: var(--info); background: linear-gradient(135deg, #f0f5f8, #e8eff3); }
        .eco-card.tracking { border-color: var(--primary); background: linear-gradient(135deg, #f5eef5, #ede4ed); }
        .eco-card.notif { border-color: var(--warning); background: linear-gradient(135deg, #f8f4e8, #f5f0dd); }

        .flow-horizontal { display: flex; align-items: center; justify-content: center; gap: 0; margin: 30px 0; flex-wrap: nowrap; overflow-x: auto; padding: 15px 0; }
        .flow-box { min-width: 160px; padding: 18px; border-radius: 12px; text-align: center; font-size: 13px; font-weight: 600; color: white; flex-shrink: 0; }
        .flow-box.co-a { background: linear-gradient(135deg, var(--info), #4a7a95); }
        .flow-box.process { background: linear-gradient(135deg, var(--primary), var(--secondary)); }
        .flow-box.co-b { background: linear-gradient(135deg, var(--success), #4a8e5f); }
        .flow-box.alert { background: linear-gradient(135deg, var(--warning), #b89a3e); }
        .flow-box.return { background: linear-gradient(135deg, var(--danger), #a5444a); }
        .flow-arrow { font-size: 24px; color: var(--gray-400); margin: 0 5px; flex-shrink: 0; }
        .flow-box small { display: block; font-weight: 400; font-size: 11px; margin-top: 4px; opacity: 0.9; }

        .faq-item { border: 1px solid var(--gray-200); border-radius: 12px; margin-bottom: 12px; overflow: hidden; transition: all 0.3s; }
        .faq-item:hover { border-color: var(--primary); box-shadow: 0 4px 15px rgba(123,91,123,0.12); }
        .faq-question { padding: 18px 20px; background: var(--gray-100); font-weight: 700; color: var(--secondary); display: flex; align-items: center; gap: 12px; }
        .faq-question .q-marker { background: var(--primary); color: white; width: 28px; height: 28px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 800; flex-shrink: 0; }
        .faq-answer { padding: 18px 20px; padding-left: 60px; color: var(--gray-700); font-size: 14px; border-top: 1px solid var(--gray-200); }

        .group-card { display: flex; align-items: flex-start; gap: 15px; padding: 20px; background: var(--gray-100); border-radius: 12px; margin: 10px 0; }
        .group-icon { width: 44px; height: 44px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0; }
        .group-icon.user { background: linear-gradient(135deg, var(--primary-light), var(--primary)); color: white; }
        .group-icon.admin { background: linear-gradient(135deg, var(--primary-dark), var(--secondary)); color: white; }
        .group-icon.price { background: linear-gradient(135deg, var(--info), #4a7a95); color: white; }

        .footer { background: var(--dark); color: var(--gray-500); padding: 40px; text-align: center; }
        .footer .company-name { font-size: 22px; font-weight: 800; color: var(--white); letter-spacing: 3px; margin-bottom: 5px; }
        .footer .tagline { font-size: 12px; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 20px; }
        .footer-divider { width: 60px; height: 3px; background: var(--primary); margin: 20px auto; border-radius: 2px; }
        .footer p { font-size: 13px; margin-bottom: 5px; }

        @media (max-width: 768px) {
            .header-top { padding: 10px 20px; } .hero { padding: 30px 20px; } .hero h1 { font-size: 26px; }
            .nav-bar { padding: 0 15px; } .main-content { padding: 20px; } .section { padding: 25px; }
            .eco-grid { grid-template-columns: 1fr; } .flow-horizontal { flex-direction: column; }
        }
        @media print { .header, .nav-bar { position: static; } .section { break-inside: avoid; box-shadow: none; border: 1px solid #ddd; } }
    </style>
</head>
<body>

<!-- HEADER -->
<div class="header">
    <div class="header-top">
        <div class="logo-area">
            <svg viewBox="0 0 240 48" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#9B7B9B"/><stop offset="100%" style="stop-color:#C9A0C9"/></linearGradient></defs>
                <rect x="0" y="4" width="40" height="40" rx="10" fill="url(#logoGrad)"/>
                <text x="20" y="32" font-family="Arial,sans-serif" font-size="26" font-weight="800" fill="white" text-anchor="middle">C</text>
                <text x="52" y="22" font-family="Arial,sans-serif" font-size="18" font-weight="800" fill="white" letter-spacing="2">COONDEV</text>
                <text x="52" y="38" font-family="Arial,sans-serif" font-size="8" fill="rgba(255,255,255,0.8)" letter-spacing="2">COONSULTING &amp; DEVELOPMENT</text>
            </svg>
        </div>
        <div class="header-badge">GUIA FUNCIONAL v1.0</div>
    </div>
</div>

<!-- HERO -->
<div class="hero">
    <div class="hero-content">
        <div class="version-badge">Odoo 18 Enterprise &bull; Modulo Especializado</div>
        <h1>Tarjetas Regalo Corporativas</h1>
        <p>Sistema integral de bonos regalo con contabilidad diferida, cumplimiento tributario colombiano y redencion automatizada desde el Punto de Venta.</p>
        <div class="hero-meta">
            <div class="hero-meta-item"><strong>Ecosistema</strong>Gift Card Accounting</div>
            <div class="hero-meta-item"><strong>Categoria</strong>Punto de Venta / Contabilidad</div>
            <div class="hero-meta-item"><strong>Autor</strong>Coondev</div>
            <div class="hero-meta-item"><strong>Licencia</strong>LGPL-3</div>
        </div>
    </div>
</div>

<!-- NAVIGATION -->
<div class="nav-bar">
    <ul>
        <li><a href="#introduccion">Introduccion</a></li>
        <li><a href="#flujos">Flujos de Trabajo</a></li>
        <li><a href="#parametros">Parametros</a></li>
        <li><a href="#guia-paso-a-paso">Guia Paso a Paso</a></li>
        <li><a href="#estados">Estados</a></li>
        <li><a href="#trazabilidad">Trazabilidad</a></li>
        <li><a href="#reportes">Reportes</a></li>
        <li><a href="#faq">Preguntas y Respuestas</a></li>
    </ul>
</div>

<!-- MAIN CONTENT -->
<div class="main-content">

    <!-- 1. INTRODUCCION -->
    <div class="section" id="introduccion">
        <div class="section-header">
            <div class="section-icon mauve">&#127873;</div>
            <h2>1. Introduccion <small>Vision general del modulo</small></h2>
        </div>

        <p>El modulo de <strong>Tarjetas Regalo Corporativas</strong> implementa un sistema completo de bonos regalo con tratamiento contable especializado para el mercado colombiano. Permite vender bonos regalo desde el Punto de Venta, registrar la venta como ingreso diferido (obligacion) y reconocer el ingreso real con su respectivo impuesto unicamente cuando el cliente redime el bono para consumir productos o servicios.</p>

        <div class="highlight-box info">
            <strong>&#9432; Que resuelve este modulo?</strong>
            La normativa tributaria colombiana (DIAN) exige que la venta de un bono regalo genere una factura <strong>sin IVA</strong> (es un ingreso diferido, no un ingreso real), y que al momento de la redencion se emita una segunda factura <strong>con IVA</strong> sobre el consumo efectivo. Este modulo automatiza completamente este flujo de dos facturas, garantizando el cumplimiento tributario sin intervencion manual del cajero.
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Componentes del Modulo</h3>
        <div class="eco-grid">
            <div class="eco-card price">
                <div class="eco-icon">&#127873;</div>
                <h4>Gestion de Bonos</h4>
                <p>Creacion automatica de bonos con codigo unico, estados de ciclo de vida, saldo disponible y vinculacion completa con ordenes de compra y redencion.</p>
            </div>
            <div class="eco-card tracking">
                <div class="eco-icon">&#128176;</div>
                <h4>Contabilidad Diferida</h4>
                <p>Registro automatico del ingreso diferido al vender el bono y reconocimiento del ingreso real con IVA proporcional al momento de la redencion.</p>
            </div>
            <div class="eco-card notif">
                <div class="eco-icon">&#128179;</div>
                <h4>Integracion POS</h4>
                <p>Venta y redencion de bonos directamente desde el Punto de Venta, con validacion de codigo, saldo y aplicacion automatica del descuento.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Capacidades Principales</h3>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon">&#128179;</div>
                <h4>Doble Facturacion Automatica</h4>
                <p>Primera factura sin IVA al vender el bono. Segunda factura con IVA al redimirlo. Cumple con la normativa DIAN de Colombia.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128196;</div>
                <h4>Codigo Unico por Bono</h4>
                <p>Cada bono recibe un codigo secuencial unico (BONO-00001, BONO-00002...) que lo identifica durante toda su vida util.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128200;</div>
                <h4>Ingreso Diferido Automatico</h4>
                <p>Al vender un bono, el importe se registra como pasivo (ingreso diferido) en lugar de ingreso operacional, reflejando la obligacion pendiente.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128176;</div>
                <h4>IVA Proporcional en Redencion</h4>
                <p>Al redimir, el sistema calcula el IVA proporcional sobre el consumo real y distribuye el monto entre ingreso por servicios e impuesto.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128274;</div>
                <h4>Control de Permisos</h4>
                <p>Usuarios del POS pueden vender y redimir bonos. Solo los gerentes pueden eliminar bonos. Los contadores tienen acceso a la trazabilidad contable.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128260;</div>
                <h4>Integracion con Programa de Lealtad</h4>
                <p>Cada bono se vincula a una tarjeta de lealtad con puntos equivalentes al valor del bono, permitiendo la redencion nativa desde el POS.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">Dependencias del Modulo</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Modulo Requerido</th><th>Descripcion</th><th>Uso</th></tr></thead>
                <tbody>
                    <tr><td><strong>Punto de Venta</strong></td><td>Sistema de punto de venta de Odoo</td><td>Venta y redencion de bonos desde caja</td></tr>
                    <tr><td><strong>Contabilidad</strong></td><td>Gestion contable y facturacion</td><td>Asientos contables y cuentas diferidas</td></tr>
                    <tr><td><strong>Productos</strong></td><td>Catalogo de productos</td><td>Producto de tipo bono regalo</td></tr>
                    <tr><td><strong>Programas de Lealtad</strong></td><td>Sistema de lealtad nativo de Odoo</td><td>Motor de puntos para redencion de bonos</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 2. FLUJOS DE TRABAJO -->
    <div class="section" id="flujos">
        <div class="section-header">
            <div class="section-icon deep">&#9881;</div>
            <h2>2. Flujos de Trabajo <small>Diagramas de procesos graficos</small></h2>
        </div>

        <h3 style="margin-bottom: 20px; color: var(--secondary);">2.1 Flujo General: Ciclo de Vida del Bono Regalo</h3>
        <div class="flow-horizontal">
            <div class="flow-box co-a">Crear Bono<small>Producto bono en POS</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box process">Venta sin IVA<small>Ingreso diferido</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box co-b">Bono Activo<small>Saldo disponible</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box alert">Redencion<small>Cliente consume</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box return">Ingreso + IVA<small>Reconocimiento real</small></div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.2 Flujo Detallado: Venta del Bono Regalo</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>El cajero vende un producto de tipo Bono Regalo</h4>
                <p>Desde el Punto de Venta, el cajero agrega al pedido un producto que ha sido marcado como <strong>Bono Regalo</strong>. El precio del producto corresponde al valor nominal del bono (por ejemplo, $100.000).</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Se genera el bono automaticamente</h4>
                <p>Al procesar el pago, el sistema crea automaticamente un <strong>bono con codigo unico</strong> (ejemplo: BONO-00001). El bono queda en estado <span class="badge badge-complete">Activo</span> con el saldo igual al valor pagado por el cliente.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Se crea la tarjeta de lealtad asociada</h4>
                <p>Simultaneamente se genera una <strong>tarjeta de lealtad</strong> vinculada al bono, con puntos equivalentes al valor del bono. Cada punto equivale a una unidad monetaria de descuento.</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Contabilidad: Ingreso Diferido</h4>
                <p>Al cerrar la sesion del POS, el sistema redirige automaticamente el importe de la venta desde la cuenta de ingresos normal hacia la <strong>cuenta de ingresos diferidos</strong> (pasivo). No se reconoce ingreso operacional ni IVA en este momento.</p>
            </div>
            <div class="vflow-step" data-step="5">
                <h4>Se genera la primera factura</h4>
                <p>La factura de venta del bono se emite <strong>sin IVA</strong>, reflejando que el monto es una obligacion futura (ingreso diferido), no un ingreso por servicio prestado.</p>
            </div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.3 Flujo Detallado: Redencion del Bono</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>El cliente presenta el bono en el POS</h4>
                <p>El cliente realiza un pedido de productos o servicios (por ejemplo, una comida por $80.000) y presenta su <strong>codigo de bono regalo</strong> para pagar. El sistema valida que el bono este activo y tenga saldo disponible.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Se aplica el descuento automatico</h4>
                <p>El programa de lealtad aplica un <strong>descuento equivalente al valor del consumo</strong> (hasta el saldo del bono). Se genera una linea negativa en el pedido representando la redencion del bono.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Contabilidad: Reconocimiento de Ingreso con IVA</h4>
                <p>Al cerrar la sesion, el sistema ejecuta tres movimientos contables automaticos:<br>
                - <strong>Debito al ingreso diferido</strong>: libera la obligacion por el monto consumido<br>
                - <strong>Credito a ingresos por servicios</strong>: reconoce el ingreso real (base sin impuesto)<br>
                - <strong>Credito al impuesto por pagar</strong>: reconoce el IVA proporcional al consumo</p>
            </div>
            <div class="vflow-step" data-step="4">
                <h4>Calculo proporcional del IVA</h4>
                <p>El sistema calcula que proporcion del pedido total fue cubierta por el bono y asigna el <strong>IVA proporcionalmente</strong>. Ejemplo: si el bono cubre el 100% del consumo y el IVA es del 19%, se separa la base gravable del impuesto automaticamente.</p>
            </div>
            <div class="vflow-step" data-step="5">
                <h4>El bono se marca como redimido</h4>
                <p>El bono cambia a estado <span class="badge badge-info">Redimido</span>, se registra la fecha, el monto de redencion, la orden asociada y se genera la <strong>segunda factura con IVA</strong>.</p>
            </div>
        </div>

        <h3 style="margin: 35px 0 15px; color: var(--secondary);">2.4 Flujo Contable: Resumen de Dos Momentos</h3>
        <div class="feature-grid" style="grid-template-columns: 1fr 1fr;">
            <div class="feature-card">
                <div class="icon">&#128179;</div>
                <h4>Momento 1: Venta del Bono</h4>
                <p><strong>Debito:</strong> Caja / Banco (efectivo recibido)<br>
                <strong>Credito:</strong> Ingresos Diferidos (obligacion futura)<br><br>
                Factura emitida <strong>sin IVA</strong>. No se reconoce ingreso operacional.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128176;</div>
                <h4>Momento 2: Redencion del Bono</h4>
                <p><strong>Debito:</strong> Ingresos Diferidos (libera obligacion)<br>
                <strong>Credito:</strong> Ingresos por Servicios (base gravable)<br>
                <strong>Credito:</strong> IVA por Pagar (impuesto proporcional)<br><br>
                Factura emitida <strong>con IVA</strong>. Se reconoce ingreso real.</p>
            </div>
        </div>
    </div>

    <!-- 3. PARAMETROS -->
    <div class="section" id="parametros">
        <div class="section-header">
            <div class="section-icon warm">&#9881;</div>
            <h2>3. Parametros a Tener en Cuenta <small>Configuracion del modulo</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">3.1 Cuentas Contables Requeridas</h3>
        <div class="highlight-box danger">
            <strong>&#9888; Configuracion Contable Obligatoria</strong>
            Para que el modulo funcione correctamente, deben existir las cuentas contables de ingresos diferidos e ingresos por servicios en el plan de cuentas. El sistema las busca primero en la configuracion del producto, luego en los ajustes de la compania y finalmente por codigo contable estandar colombiano.
        </div>

        <div class="table-responsive">
            <table>
                <thead><tr><th>Cuenta</th><th>Tipo</th><th>Momento de Uso</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Ingresos Diferidos</strong></td><td>Pasivo Corriente</td><td>Venta del bono</td><td>Registra la obligacion futura. El dinero recibido queda como pasivo hasta que el cliente redima el bono.</td></tr>
                    <tr><td><strong>Ingresos por Servicios</strong></td><td>Ingreso</td><td>Redencion del bono</td><td>Reconoce el ingreso real cuando el cliente consume. Solo la base gravable (sin impuesto).</td></tr>
                    <tr><td><strong>IVA por Pagar</strong></td><td>Pasivo</td><td>Redencion del bono</td><td>Registra el impuesto sobre ventas proporcional al consumo efectivo del bono.</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.2 Configuracion en Ajustes</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Parametro</th><th>Donde Configurar</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Cuenta Ingresos Diferidos</strong></td><td>Ajustes &gt; Contabilidad &gt; Bonos Regalo</td><td>Cuenta por defecto para registrar la venta de bonos como pasivo. Se puede sobrescribir a nivel de producto.</td></tr>
                    <tr><td><strong>Cuenta Ingresos Redencion</strong></td><td>Ajustes &gt; Contabilidad &gt; Bonos Regalo</td><td>Cuenta por defecto para reconocer el ingreso real al redimir. Se puede sobrescribir a nivel de producto.</td></tr>
                    <tr><td><strong>Programa de Lealtad</strong></td><td>Ajustes &gt; Contabilidad &gt; Bonos Regalo</td><td>Programa de lealtad que gestiona los puntos de los bonos en el POS. Se crea uno por defecto al instalar.</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.3 Configuracion del Producto Bono Regalo</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Parametro</th><th>Donde Configurar</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Es Bono Regalo</strong></td><td>Producto &gt; Pestana Bono Regalo</td><td>Casilla que marca el producto como bono regalo. Activa el tratamiento contable especial.</td></tr>
                    <tr><td><strong>Cuenta Diferida (Producto)</strong></td><td>Producto &gt; Pestana Bono Regalo</td><td>Cuenta de ingresos diferidos especifica para este producto. Si no se define, usa la de la compania.</td></tr>
                    <tr><td><strong>Cuenta Ingresos (Producto)</strong></td><td>Producto &gt; Pestana Bono Regalo</td><td>Cuenta de ingresos por redencion especifica para este producto. Si no se define, usa la de la compania.</td></tr>
                    <tr><td><strong>Precio</strong></td><td>Producto &gt; Informacion General</td><td>Valor nominal del bono regalo. Debe configurarse sin impuesto, ya que la venta es sin IVA.</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.4 Jerarquia de Busqueda de Cuentas</h3>
        <div class="highlight-box info">
            <strong>&#9432; Orden de Prioridad</strong>
            El sistema busca las cuentas contables en este orden: <strong>1)</strong> Cuenta definida en el producto, <strong>2)</strong> Cuenta por defecto de la compania, <strong>3)</strong> Busqueda automatica por codigo contable estandar. Si no encuentra la cuenta en ninguno de estos niveles, el sistema genera un error informativo.
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">3.5 Programa de Lealtad Preconfigurado</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Parametro</th><th>Valor por Defecto</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Nombre del Programa</strong></td><td>Bonos Regalo</td><td>Nombre del programa de lealtad creado automaticamente al instalar el modulo</td></tr>
                    <tr><td><strong>Tipo de Programa</strong></td><td>Billetera Electronica</td><td>Funciona como monedero virtual donde cada punto equivale a una unidad monetaria</td></tr>
                    <tr><td><strong>Tipo de Recompensa</strong></td><td>Descuento por punto</td><td>1 punto = 1 unidad monetaria de descuento aplicado sobre el total del pedido</td></tr>
                    <tr><td><strong>Habilitado en POS</strong></td><td>Si</td><td>El programa esta disponible en todas las sesiones del Punto de Venta</td></tr>
                    <tr><td><strong>Visible en Portal</strong></td><td>No</td><td>Los clientes no ven este programa en el portal web</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 4. GUIA PASO A PASO -->
    <div class="section" id="guia-paso-a-paso">
        <div class="section-header">
            <div class="section-icon sage">&#128221;</div>
            <h2>4. Guia Paso a Paso <small>Configuracion y operacion</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">Paso 1: Instalar el Modulo</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Instalar el modulo de Bonos Regalo</h4>
                <p>Ir a <strong>Aplicaciones</strong> y buscar "Gift Card Accounting". Al instalar, se crean automaticamente el programa de lealtad "Bonos Regalo", la secuencia de codigos y los menus de gestion.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 2: Configurar las Cuentas Contables</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Verificar el plan de cuentas</h4>
                <p>Asegurar que el plan de cuentas incluya una <strong>cuenta de ingresos diferidos</strong> (tipo pasivo corriente) y una <strong>cuenta de ingresos por servicios</strong> (tipo ingreso). Tambien debe existir la cuenta de IVA por pagar para el reconocimiento del impuesto.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Configurar valores por defecto</h4>
                <p>Ir a <strong>Ajustes &gt; Contabilidad &gt; Bonos Regalo</strong>. Seleccionar la cuenta de ingresos diferidos, la cuenta de ingresos por redencion y confirmar que el programa de lealtad "Bonos Regalo" este asignado.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 3: Crear el Producto de Bono Regalo</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Crear un nuevo producto</h4>
                <p>Ir a <strong>Bonos Regalo &gt; Configuracion &gt; Productos Bono Regalo</strong> o a <strong>Productos</strong> y crear uno nuevo. Definir el nombre (por ejemplo, "Bono Regalo $100.000") y el precio de venta sin impuestos.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Activar la opcion de Bono Regalo</h4>
                <p>En la pestana <strong>"Bono Regalo"</strong> del producto, activar la casilla <strong>"Es Bono Regalo"</strong>. Opcionalmente, se pueden definir cuentas contables especificas para este producto en particular.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Configurar el producto en el POS</h4>
                <p>Asegurar que el producto este disponible en el Punto de Venta. Configurar la categoria de POS y verificar que <strong>no tenga impuestos asignados</strong>, ya que la venta del bono no genera IVA.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 4: Asignar Permisos</h3>
        <div class="group-card">
            <div class="group-icon user">&#128100;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Cajero (Usuario POS)</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;">Puede vender bonos regalo, validar codigos de bono, aplicar redenciones y consultar la lista de bonos. <strong>No puede</strong> eliminar bonos del sistema.</p>
            </div>
        </div>
        <div class="group-card">
            <div class="group-icon price">&#128176;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Contador</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;">Tiene acceso a la trazabilidad contable completa: puede ver los apuntes contables de ingresos diferidos, los asientos de reconocimiento de ingreso y las facturas vinculadas a cada bono.</p>
            </div>
        </div>
        <div class="group-card">
            <div class="group-icon admin">&#128272;</div>
            <div>
                <h4 style="color: var(--secondary); margin-bottom: 5px;">Gerente POS</h4>
                <p style="font-size: 13px; color: var(--gray-600); margin-bottom: 0;"><strong>Acceso completo.</strong> Puede crear, modificar, cancelar y eliminar bonos regalo. Tiene visibilidad total sobre todos los estados y puede gestionar la configuracion del modulo.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 5: Vender un Bono Regalo</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Abrir una sesion del POS</h4>
                <p>Iniciar una sesion normal del Punto de Venta. El programa de lealtad "Bonos Regalo" ya estara cargado automaticamente.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Agregar el producto Bono Regalo al pedido</h4>
                <p>Buscar y seleccionar el producto de bono regalo. El precio se muestra sin IVA. Procesar el pago normalmente (efectivo, tarjeta, etc.).</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Entregar el codigo al cliente</h4>
                <p>El sistema genera automaticamente el bono con su codigo unico. Este codigo es lo que el cliente presentara al momento de redimir el bono.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 6: Redimir un Bono Regalo</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>El cliente realiza su pedido</h4>
                <p>El cajero registra los productos o servicios que el cliente desea consumir (por ejemplo, una comida). Estos productos <strong>si deben tener IVA configurado</strong>.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Aplicar el bono como forma de pago</h4>
                <p>El cajero ingresa el codigo del bono regalo. El sistema valida que el bono este activo, tenga saldo suficiente y aplica el descuento correspondiente sobre el total del pedido.</p>
            </div>
            <div class="vflow-step" data-step="3">
                <h4>Completar la transaccion</h4>
                <p>Si el bono cubre el total del consumo, el cliente no paga nada adicional. Si el consumo excede el saldo del bono, el cliente paga la diferencia con otro medio de pago.</p>
            </div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">Paso 7: Cierre de Sesion y Contabilidad</h3>
        <div class="vflow">
            <div class="vflow-step" data-step="1">
                <h4>Cerrar la sesion del POS</h4>
                <p>Al cerrar la sesion, el sistema procesa automaticamente todas las ventas y redenciones de bonos del dia, generando los asientos contables correspondientes sin intervencion manual.</p>
            </div>
            <div class="vflow-step" data-step="2">
                <h4>Verificar los asientos contables</h4>
                <p>Los asientos de ingreso diferido (ventas) y reconocimiento de ingreso con IVA (redenciones) se registran automaticamente. Se pueden consultar desde la ficha de cada bono en la pestana de contabilidad.</p>
            </div>
        </div>
    </div>

    <!-- 5. ESTADOS -->
    <div class="section" id="estados">
        <div class="section-header">
            <div class="section-icon plum">&#128203;</div>
            <h2>5. Estados del Proceso <small>Ciclo de vida del bono regalo</small></h2>
        </div>

        <h3 style="margin-bottom: 15px; color: var(--secondary);">5.1 Estados del Bono Regalo</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Estado</th><th>Indicador</th><th>Descripcion</th><th>Acciones Disponibles</th></tr></thead>
                <tbody>
                    <tr>
                        <td><strong>Borrador</strong></td>
                        <td><span class="badge badge-info">Borrador</span></td>
                        <td>Bono recien creado manualmente, aun no activado. No puede ser utilizado en el POS.</td>
                        <td>Activar, Cancelar</td>
                    </tr>
                    <tr>
                        <td><strong>Activo</strong></td>
                        <td><span class="badge badge-complete">Activo</span></td>
                        <td>Bono listo para ser redimido. Tiene saldo disponible y puede usarse en el Punto de Venta. Los bonos vendidos desde el POS se crean directamente en este estado.</td>
                        <td>Redimir (desde POS), Cancelar</td>
                    </tr>
                    <tr>
                        <td><strong>Redimido</strong></td>
                        <td><span class="badge badge-partial">Redimido</span></td>
                        <td>El cliente ya utilizo el bono para consumir productos o servicios. El ingreso fue reconocido contablemente con IVA. Estado final.</td>
                        <td>Solo consulta</td>
                    </tr>
                    <tr>
                        <td><strong>Expirado</strong></td>
                        <td><span class="badge badge-pending">Expirado</span></td>
                        <td>El bono supero su periodo de vigencia sin ser utilizado. Estado final.</td>
                        <td>Solo consulta</td>
                    </tr>
                    <tr>
                        <td><strong>Cancelado</strong></td>
                        <td><span class="badge badge-pending">Cancelado</span></td>
                        <td>El bono fue anulado manualmente por un gerente. Los puntos de lealtad se eliminan. Estado final.</td>
                        <td>Solo consulta</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.2 Diagrama de Transiciones</h3>
        <div class="flow-horizontal">
            <div class="flow-box co-a">Borrador<small>Creacion manual</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box co-b">Activo<small>Listo para redimir</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box process">Redimido<small>Ingreso reconocido</small></div>
        </div>
        <div class="flow-horizontal" style="margin-top: 10px;">
            <div class="flow-box co-b">Activo<small>Si no se usa</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box alert">Expirado<small>Sin vigencia</small></div>
        </div>
        <div class="flow-horizontal" style="margin-top: 10px;">
            <div class="flow-box co-a">Borrador / Activo<small>Accion manual</small></div>
            <div class="flow-arrow">&#10230;</div>
            <div class="flow-box return">Cancelado<small>Anulado por gerente</small></div>
        </div>

        <h3 style="margin: 30px 0 15px; color: var(--secondary);">5.3 Reglas de Transicion</h3>
        <div class="highlight-box">
            <strong>&#9888; Restricciones Importantes</strong>
            Un bono <strong>no puede cancelarse</strong> si ya fue redimido (el ingreso ya fue reconocido contablemente). Al cancelar un bono activo, los puntos de lealtad asociados se eliminan automaticamente, impidiendo su uso futuro en el POS.
        </div>

        <div class="highlight-box success">
            <strong>Creacion Automatica desde POS</strong>
            Los bonos vendidos desde el Punto de Venta se crean directamente en estado <strong>Activo</strong>, omitiendo el estado Borrador. Esto permite que el bono sea utilizable inmediatamente despues de la venta.
        </div>
    </div>

    <!-- 6. TRAZABILIDAD -->
    <div class="section" id="trazabilidad">
        <div class="section-header">
            <div class="section-icon sage">&#128269;</div>
            <h2>6. Trazabilidad <small>Seguimiento completo de cada bono</small></h2>
        </div>

        <p>Cada bono regalo mantiene una trazabilidad completa desde su creacion hasta su redencion, vinculando todos los documentos comerciales y contables involucrados.</p>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.1 Informacion de Compra (Venta del Bono)</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Dato</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Orden POS de Compra</strong></td><td>Referencia a la orden del Punto de Venta donde se vendio el bono</td></tr>
                    <tr><td><strong>Linea de la Orden</strong></td><td>Linea especifica dentro del pedido que corresponde al producto bono regalo</td></tr>
                    <tr><td><strong>Factura de Compra</strong></td><td>Primera factura generada (sin IVA) al momento de la venta del bono</td></tr>
                    <tr><td><strong>Fecha de Compra</strong></td><td>Fecha y hora exacta de la transaccion de venta</td></tr>
                    <tr><td><strong>Monto de Compra</strong></td><td>Valor nominal pagado por el cliente al adquirir el bono</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.2 Informacion de Redencion</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Dato</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Orden POS de Redencion</strong></td><td>Referencia a la orden del Punto de Venta donde el cliente uso el bono</td></tr>
                    <tr><td><strong>Factura de Redencion</strong></td><td>Segunda factura generada (con IVA) al momento de la redencion</td></tr>
                    <tr><td><strong>Fecha de Redencion</strong></td><td>Fecha y hora exacta de la transaccion de consumo</td></tr>
                    <tr><td><strong>Monto de Redencion</strong></td><td>Valor efectivamente consumido del bono</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.3 Trazabilidad Contable</h3>
        <div class="highlight-box success">
            <strong>Auditoria Contable Completa</strong>
            Cada bono almacena la referencia directa al apunte contable de ingreso diferido (generado en la venta) y al apunte contable de reconocimiento de ingreso (generado en la redencion). Esto permite a los contadores navegar desde el bono directamente a los asientos del libro diario.
        </div>

        <div class="table-responsive">
            <table>
                <thead><tr><th>Apunte Contable</th><th>Momento</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Apunte Contable Diferido</strong></td><td>Cierre de sesion (venta)</td><td>Linea de credito en la cuenta de ingresos diferidos. Representa la obligacion futura.</td></tr>
                    <tr><td><strong>Apunte Contable Ingreso</strong></td><td>Cierre de sesion (redencion)</td><td>Linea de credito en la cuenta de ingresos por servicios. Representa el ingreso real reconocido.</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.4 Vinculacion con Programa de Lealtad</h3>
        <p>Cada bono esta vinculado a una <strong>tarjeta de lealtad</strong> con el mismo codigo. Los puntos de la tarjeta representan el saldo disponible del bono. Al redimir, los puntos se consumen automaticamente. Al cancelar un bono, los puntos se eliminan a cero.</p>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">6.5 Saldo Disponible</h3>
        <div class="highlight-box info">
            <strong>&#9432; Calculo del Saldo</strong>
            El saldo disponible del bono se calcula automaticamente como: <strong>Monto de Compra - Monto de Redencion</strong>. Este saldo se actualiza en tiempo real y es el que se valida al momento de intentar aplicar el bono en el Punto de Venta.
        </div>
    </div>

    <!-- 7. REPORTES -->
    <div class="section" id="reportes">
        <div class="section-header">
            <div class="section-icon warm">&#128202;</div>
            <h2>7. Detalle de Reportes <small>Vistas y consultas disponibles</small></h2>
        </div>

        <h3 style="margin: 0 0 15px; color: var(--secondary);">7.1 Vista Kanban de Bonos</h3>
        <p>Vista principal tipo tarjeta que muestra cada bono con su codigo, producto, valor de compra, saldo disponible y estado con indicador de color. Permite una gestion visual rapida del inventario de bonos.</p>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.2 Vista de Lista de Bonos</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Columna</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Codigo</strong></td><td>Codigo unico del bono (BONO-00001, etc.)</td></tr>
                    <tr><td><strong>Producto</strong></td><td>Nombre del producto de bono regalo asociado</td></tr>
                    <tr><td><strong>Fecha de Compra</strong></td><td>Cuando fue vendido el bono</td></tr>
                    <tr><td><strong>Monto de Compra</strong></td><td>Valor nominal del bono</td></tr>
                    <tr><td><strong>Saldo</strong></td><td>Saldo disponible actual (compra menos redencion)</td></tr>
                    <tr><td><strong>Estado</strong></td><td>Estado actual con indicador de color</td></tr>
                    <tr><td><strong>Fecha de Redencion</strong></td><td>Cuando fue utilizado el bono (si aplica)</td></tr>
                    <tr><td><strong>Compania</strong></td><td>Compania propietaria del bono</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.3 Acciones Rapidas del Menu</h3>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon">&#128196;</div>
                <h4>Todos los Bonos</h4>
                <p>Vista completa de todos los bonos del sistema, sin filtro. Disponible en formato Kanban y Lista.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#9989;</div>
                <h4>Bonos Activos</h4>
                <p>Muestra unicamente bonos en estado activo con saldo mayor a cero. Ideal para consultar bonos pendientes de redencion.</p>
            </div>
            <div class="feature-card">
                <div class="icon">&#128179;</div>
                <h4>Bonos Redimidos</h4>
                <p>Lista de bonos ya utilizados por los clientes. Util para analisis de consumo y trazabilidad.</p>
            </div>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.4 Filtros y Agrupaciones</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Tipo</th><th>Nombre</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Filtro</strong></td><td>Activos</td><td>Muestra solo bonos en estado activo</td></tr>
                    <tr><td><strong>Filtro</strong></td><td>Redimidos</td><td>Muestra solo bonos en estado redimido</td></tr>
                    <tr><td><strong>Filtro</strong></td><td>Con Saldo</td><td>Muestra bonos cuyo saldo disponible es mayor a cero</td></tr>
                    <tr><td><strong>Filtro</strong></td><td>Este Mes</td><td>Bonos vendidos en el mes en curso</td></tr>
                    <tr><td><strong>Agrupar</strong></td><td>Por Estado</td><td>Agrupa bonos segun su estado actual</td></tr>
                    <tr><td><strong>Agrupar</strong></td><td>Por Producto</td><td>Agrupa bonos segun el tipo de producto (denominacion)</td></tr>
                    <tr><td><strong>Agrupar</strong></td><td>Por Fecha de Compra</td><td>Agrupa bonos por periodo de venta</td></tr>
                    <tr><td><strong>Agrupar</strong></td><td>Por Compania</td><td>Agrupa bonos por compania (entorno multi-compania)</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="margin: 25px 0 15px; color: var(--secondary);">7.5 Menus de Acceso</h3>
        <div class="table-responsive">
            <table>
                <thead><tr><th>Menu</th><th>Ubicacion</th><th>Descripcion</th></tr></thead>
                <tbody>
                    <tr><td><strong>Bonos Regalo</strong></td><td>Menu principal</td><td>Menu raiz con acceso a gestion de bonos y configuracion</td></tr>
                    <tr><td><strong>Bonos Regalo (POS)</strong></td><td>Punto de Venta &gt; Bonos Regalo</td><td>Acceso rapido desde el modulo de POS para cajeros y gerentes</td></tr>
                    <tr><td><strong>Bonos Regalo (Contabilidad)</strong></td><td>Contabilidad &gt; Bonos Regalo</td><td>Acceso para contadores con enfoque en trazabilidad financiera</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 8. FAQ -->
    <div class="section" id="faq">
        <div class="section-header">
            <div class="section-icon mauve">&#10067;</div>
            <h2>8. Preguntas y Respuestas <small>Preguntas frecuentes del modulo</small></h2>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Por que la venta del bono no genera IVA?</div>
            <div class="faq-answer">Segun la normativa tributaria colombiana (DIAN), la venta de un bono regalo no constituye una prestacion de servicio ni una venta de bien gravado. Es un <strong>ingreso recibido por anticipado</strong> (ingreso diferido). El IVA solo se causa cuando el cliente efectivamente consume un producto o servicio al momento de la redencion.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Como se genera el codigo del bono?</div>
            <div class="faq-answer">El sistema genera automaticamente un <strong>codigo secuencial unico</strong> con el formato BONO-00001, BONO-00002, etc. La secuencia es global y no se repite. Este codigo identifica al bono durante todo su ciclo de vida y es el que el cliente presenta para redimir.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que pasa si el consumo del cliente es menor que el valor del bono?</div>
            <div class="faq-answer">El bono puede tener un <strong>saldo remanente</strong>. El sistema registra solo el monto efectivamente consumido como redencion. El saldo restante queda disponible y se calcula automaticamente como la diferencia entre el monto de compra y el monto de redencion.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Como se calcula el IVA al redimir el bono?</div>
            <div class="faq-answer">El sistema calcula el IVA de forma <strong>proporcional al consumo real</strong>. Determina que porcentaje del pedido total fue cubierto por el bono y asigna la proporcion correspondiente del IVA total. Por ejemplo, si el bono cubre el 100% de un pedido de $80.000 con IVA del 19%, se separan automaticamente $66.555 como base gravable y $13.445 como IVA.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Puedo crear bonos manualmente sin venderlos desde el POS?</div>
            <div class="faq-answer"><strong>Si.</strong> Desde el menu <strong>Bonos Regalo &gt; Todos los Bonos</strong> se puede crear un bono manualmente. Este se creara en estado Borrador y debera activarse manualmente con el boton "Activar" antes de poder usarse en el POS.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que sucede al cancelar un bono activo?</div>
            <div class="faq-answer">Al cancelar un bono, el sistema <strong>elimina los puntos de la tarjeta de lealtad</strong> asociada (los pone en cero). Esto impide que el bono pueda ser utilizado en el Punto de Venta. El bono pasa a estado "Cancelado" de forma permanente. Un bono ya redimido no puede cancelarse.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Donde se configuran las cuentas contables?</div>
            <div class="faq-answer">Hay <strong>dos niveles de configuracion</strong>: a nivel de compania en <strong>Ajustes &gt; Contabilidad &gt; Bonos Regalo</strong> (valores por defecto para todos los bonos) y a nivel de producto en la pestana <strong>"Bono Regalo"</strong> del producto (valores especificos que sobreescriben los de la compania). Si no se configura en ningun nivel, el sistema busca automaticamente por codigo contable estandar.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Cuando se generan los asientos contables?</div>
            <div class="faq-answer">Los asientos contables se generan al <strong>cerrar la sesion del Punto de Venta</strong>, no al momento de la transaccion individual. Durante el cierre, el sistema procesa todas las ventas y redenciones de bonos de la sesion y redirige los montos a las cuentas contables correspondientes de forma automatica.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>El modulo funciona en entorno multi-compania?</div>
            <div class="faq-answer"><strong>Si.</strong> Cada compania puede configurar sus propias cuentas contables y tiene su propia secuencia de codigos. Los bonos estan segregados por compania y solo son visibles y utilizables dentro de la compania que los emitio.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Que relacion tiene el bono con el programa de lealtad?</div>
            <div class="faq-answer">El modulo utiliza el <strong>motor de programas de lealtad de Odoo</strong> como mecanismo de redencion en el POS. Se crea un programa tipo "Billetera Electronica" donde cada punto equivale a una unidad monetaria de descuento. Cada bono se vincula a una tarjeta de lealtad cuyos puntos representan el saldo del bono. Esta integracion permite que el POS aplique el descuento de forma nativa sin modificaciones al flujo de caja.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Puedo ver la trazabilidad contable de un bono?</div>
            <div class="faq-answer"><strong>Si.</strong> En la ficha de cada bono existe una pestana <strong>"Contabilidad"</strong> (visible para usuarios con permisos contables) que muestra los apuntes del libro diario: el apunte de ingreso diferido generado en la venta y el apunte de reconocimiento de ingreso generado en la redencion. Desde alli se puede navegar directamente al asiento contable completo.</div>
        </div>

        <div class="faq-item">
            <div class="faq-question"><span class="q-marker">Q</span>Se generan dos facturas por cada bono?</div>
            <div class="faq-answer"><strong>Si.</strong> El sistema genera dos documentos tributarios: la <strong>factura de compra</strong> (sin IVA, al momento de la venta) y la <strong>factura de redencion</strong> (con IVA, al momento del consumo). Ambas facturas se vinculan a la ficha del bono para consulta y auditoria.</div>
        </div>
    </div>

</div>

<!-- FOOTER -->
<div class="footer">
    <div class="company-name">COONDEV</div>
    <div class="tagline">Coonsulting &amp; Development</div>
    <div class="footer-divider"></div>
    <p>Guia Funcional - Tarjetas Regalo Corporativas</p>
    <p>Ecosistema: <strong>Gift Card Accounting</strong> | Odoo 18</p>
    <p style="margin-top: 15px; font-size: 12px; opacity: 0.7;">Documento generado &bull; Febrero 2026</p>
</div>

</body>
</html>